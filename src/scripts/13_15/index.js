window.__require=function t(e,c,i){function o(s,r){if(!c[s]){if(!e[s]){var h=s.split("/");if(h=h[h.length-1],!e[h]){var a="function"==typeof __require&&__require;if(!r&&a)return a(h,!0);if(n)return n(h,!0);throw new Error("Cannot find module '"+s+"'")}s=h}var l=c[s]={exports:{}};e[s][0].call(l.exports,function(t){return o(e[s][1][t]||t)},l,l.exports,t,e,c,i)}return c[s].exports}for(var n="function"==typeof __require&&__require,s=0;s<i.length;s++)o(i[s]);return o}({Clean5:[function(t,e,c){"use strict";cc._RF.push(e,"cf3e1KvIJlLJZi92MzhtxLo","Clean5");var i=__extends,o=__decorate;Object.defineProperty(c,"__esModule",{value:!0});var n=t("Game"),s=t("AudioManager"),r=cc._decorator,h=r.ccclass,a=r.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.process=[],e.title=[],e.clean=null,e.cleanRect=null,e.cleanMask=null,e.clean_bar=null,e.sizenode=null,e.title_lable=null,e.currect=null,e.successEffectNode=null,e.currpro=0,e.startposX=0,e.startposY=-400,e.currnum=0,e.cleanpos=[],e.cleamposnum=0,e.titlelable=["\u6b65\u9aa41\uff1a\u7528\u6c34\u51b2\u6d17","\u6b65\u9aa42\uff1a\u64e6\u5e72\u51c0","\u6b65\u9aa43\uff1a\u6324\u4e0a\u6ce1\u6cab\u5237\u4e00\u904d","\u6b65\u9aa44\uff1a\u7528\u5c0f\u5200\u522e\u53bb\u6bdb\u6bdb","\u6b65\u9aa45\uff1a\u7528\u7535\u52a8\u7802\u8f6e\u6253\u78e8\u6307\u7532\u989c\u8272","\u6b65\u9aa46\uff1a\u7528\u5c0f\u5200\u628a\u6307\u7532\u522e\u6389","\u6b65\u9aa47\uff1a\u7528\u68c9\u7b7e\u5904\u7406\u4e0b\u811a\u6307\u7532\u7684\u6d53\u6c34","\u6b65\u9aa48\uff1a\u6307\u7532\u526a\u526a\u6389\u811a\u6307\u7532","\u6b65\u9aa49\uff1a\u53bb\u9664\u811a\u6307\u7532\u5185\u7684\u6c61\u57a2","\u6b65\u9aa410\uff1a\u7ed9\u53d7\u4f24\u7684\u6307\u7532\u55b7\u4e0a\u62a4\u7406\u6db2","\u6b65\u9aa411\uff1a\u56fe\u4e0a\u6307\u7532\u6cb9"],e.process_2=[],e.title_2=[],e.sizenode_2=null,e.num=0,e.isrect=!0,e.currpro_2=0,e}return i(e,t),e.prototype.onLoad=function(){this.titlelable=this.title,this.sizenode_2.active=!1,this.node.getChildByName("node").active=!0,this.title_lable.getComponent(cc.Label).string="\u6b65\u9aa41\uff1a\u6458\u4e0b\u8033\u9970"},e.prototype.Check=function(){this.num+=1,this.clean_bar.getComponent(cc.ProgressBar).progress=this.num/3,3==this.num&&(s.default.playEffect(s.default.audioName.FINDWORD_SUCCESS),this.node.getChildByName("node").active=!1,this.updateTask(),this.UpProcess())},e.prototype.containsPoint=function(t,e,c){for(var i=c.length,o=0,n=0;n<i;++n){var s=c[n].x,r=c[n].y,h=c[(n+1)%i].x,a=c[(n+1)%i].y;r!=a&&(e<Math.min(r,a)||e>=Math.max(r,a)||(e-r)*(h-s)/(a-r)+s>t&&o++)}return o%2==1},e.prototype.start=function(){},e.prototype.CleanTouchStart=function(){},e.prototype.CleanTouchMove=function(t){this.clean.x+=t.getDeltaX()/this.sizenode.scaleX,this.clean.y+=t.getDeltaY()/this.sizenode.scaleY;var e=this.cleanRect.x+this.clean.x,c=this.cleanRect.y+this.clean.y;this._addCircle(cc.v2(e,c),this.cleanRect.width,this.cleanRect.height,this.cleanMask),this.clean.children[0].active=!0;for(var i=0;i<this.cleanpos.length;i++)if(this.cleanpos[i]){var o=this.clean.x+this.cleanRect.x,n=this.clean.y+this.cleanRect.y;this.rectToPoints(this.cleanpos[i],cc.v2(o,n),this.cleanRect.width,this.cleanRect.height)&&(this.cleamposnum+=1,this.cleanpos[i]=null,this.cleamposnum>this.cleanpos.length/10*9?this.clean_bar.getComponent(cc.ProgressBar).progress=1:this.clean_bar.getComponent(cc.ProgressBar).progress=this.cleamposnum/(this.cleanpos.length/10*9))}},e.prototype.CleanTouchEnd=function(){cc.audioEngine.stopAllEffects(),this.clean.x=this.startposX,this.clean.y=this.startposY,this.clean.children[0].active=!1,this.cleamposnum>this.cleanpos.length/10*9&&(s.default.playEffect(s.default.audioName.FINDWORD_SUCCESS),this.currpro++,this.updateTask(),this.UpProcess(),this.CleanOff())},e.prototype.CleanOff=function(){var t=this;this.currect.active=!0,this.scheduleOnce(function(){t.currect.active=!1},.5)},e.prototype.updateTask=function(){if(this.currpro>=this.process.length)return this.clean.active=!1,void(this.sizenode.active=!1);this.clean_bar.getComponent(cc.ProgressBar).progress=0,this.clean=this.process[this.currpro].getChildByName("gongju"),this.startposY=this.clean.y,this.cleanRect=this.clean.children[1],this.clean.on(cc.Node.EventType.TOUCH_START,this.CleanTouchStart,this),this.clean.on(cc.Node.EventType.TOUCH_MOVE,this.CleanTouchMove,this),this.clean.on(cc.Node.EventType.TOUCH_END,this.CleanTouchEnd,this),this.clean.zIndex=cc.macro.MAX_ZINDEX;var t=this.sizenode.width,e=this.sizenode.height;this.cleanpos=[],this.cleamposnum=0;for(var c=this.cleanRect.width/4,i=0;i<t/c;i++)for(var o=0;o<e/c;o++){var n=cc.v2(-t/2+c*i,e/2-c*o),s=this.process[this.currpro].getChildByName("mask").getComponent(cc.PolygonCollider).points;this.containsPoint(n.x,n.y,s)&&this.cleanpos.push(n)}},e.prototype.UpProcess=function(){if(2==this.currpro&&0==this.currpro_2)return this.upSizeNode_2(),void this.updateTask_2();if(this.currpro>=this.process.length)return this.upSizeNode_2(),void this.updateTask_2();this.currnum=0;for(var t=0;t<this.process.length;t++)t==this.currpro?(this.process[t].active=!0,this.currnum=t,this.cleanMask=this.process[this.currnum].getChildByName("mask"),cc.tween(this.process[t].getChildByName("gongju")).to(1,{position:cc.v3(0,this.process[t].getChildByName("gongju").y)}).start()):this.process[t].active=!1;this.title_lable&&(this.title_lable.getComponent(cc.Label).string=this.titlelable[this.currpro])},e.prototype.onGameSucc=function(){cc.find("Canvas/game").getComponent(n.default).answerCrrect({position:cc.Vec2.ZERO,show:!0})},e.prototype._addCircle=function(t,e,c,i){var o=i.getComponent(cc.Mask)._graphics,n=cc.color(0,0,0,255);o.circle(t.x,t.y,e),o.lineWidth=2,o.fillColor=n,o.fill()},e.prototype.rectToPoints=function(t,e,c,i){return t.x>e.x-c&&t.x<e.x+c&&t.y>e.y-i&&t.y<e.y+i},e.prototype.upSizeNode_2=function(){var t=this;this.sizenode_2.active=!0;for(var e=0;e<this.sizenode_2.childrenCount;e++)this.sizenode_2.children[e].active=!1;if(this.currpro_2!=this.process_2.length){for(this.sizenode_2.children[this.currpro_2].active=!0,this.currnum=0,o=0;o<this.process_2.length;o++)if(o==this.currpro_2){if(this.process_2[o].active=!0,this.currnum=o,this.cleanMask=this.process_2[this.currnum].getChildByName("di").getChildByName("mask"),this.cleanMask.childrenCount>0)for(e=0;e<this.cleanMask.childrenCount;e++)this.cleanMask.children[e].active=!1;0==this.currpro_2?cc.tween(this.process_2[o].getChildByName("gongju")).to(1,{position:cc.v3(0,this.process_2[o].getChildByName("gongju").y)}).start():1==this.currpro_2&&cc.tween(this.process_2[o].getChildByName("gongju")).to(1,{position:cc.v3(200,this.process_2[o].getChildByName("gongju").y)}).start()}else this.process_2[o].active=!1;this.title_lable.getComponent(cc.Label).string=this.title_2[this.currpro_2]}else{this.sizenode_2.children[this.currpro_2-1].active=!1,this.successEffectNode.active=!0,this.node.getChildByName("success").active=!0;for(var c=function(){var e=50*o,c=o;i.scheduleOnce(function(){t.successEffectNode.children[c].active=!0},.001*e)},i=this,o=0;o<this.successEffectNode.childrenCount;o++)c();this.scheduleOnce(this.onGameSucc,2)}},e.prototype.updateTask_2=function(){this.currpro_2!=this.process_2.length?(0==this.currpro_2?(this.clean_bar.getComponent(cc.ProgressBar).progress=0,s.default.playEffect(s.default.audioName.FINDWORD_SUCCESS)):this.clean_bar.getComponent(cc.ProgressBar).progress=(this.currpro_2-1)/3,this.cleanRect=this.process_2[this.currpro_2].getChildByName("rect"),this.cleanRect.zIndex=cc.macro.MAX_ZINDEX,this.clean=this.process_2[this.currpro_2].getChildByName("gongju"),this.startposY=this.clean.y,this.clean.on(cc.Node.EventType.TOUCH_START,this.RectTouchStart,this),this.clean.on(cc.Node.EventType.TOUCH_MOVE,this.RectTouchMove,this),this.clean.on(cc.Node.EventType.TOUCH_END,this.RectTouchEnd,this),this.clean.on(cc.Node.EventType.TOUCH_CANCEL,this.RectTouchcancel,this)):this.clean.active=!1},e.prototype.RectTouchStart=function(t){0==this.currpro_2?this.clean.opacity=0:this.clean.childrenCount>0&&(this.clean.children[0].active=!1),this.cleanRect.active=!0,this.currpro_2>0?this.cleanRect.x=this.clean.convertToNodeSpaceAR(t.getLocation()).x+this.clean.x:this.cleanRect.x=this.clean.convertToNodeSpaceAR(t.getLocation()).x,this.cleanRect.y=this.clean.convertToNodeSpaceAR(t.getLocation()).y+this.clean.y,this.clean.childrenCount>0&&(this.clean.children[0].active=!1)},e.prototype.RectTouchMove=function(t){this.currpro_2>0?this.cleanRect.x=this.clean.convertToNodeSpaceAR(t.getLocation()).x+this.clean.x:this.cleanRect.x=this.clean.convertToNodeSpaceAR(t.getLocation()).x,this.cleanRect.y=this.clean.convertToNodeSpaceAR(t.getLocation()).y+this.clean.y},e.prototype.RectTouchEnd=function(){this.EndFunc()},e.prototype.RectTouchcancel=function(){this.EndFunc()},e.prototype.EndFunc=function(){var t;this.cleanRect.active=!1,this.clean.opacity=255,t=cc.rect(this.cleanRect.x,this.cleanRect.y,this.cleanRect.width,this.cleanRect.height),this.clean.childrenCount>0&&(this.clean.children[0].active=!0),this.CheckPoint(t,this.cleanMask.getComponent(cc.PolygonCollider).points)&&(this.cleanMask.children[0].active=!0,this.currpro_2++,1==this.currpro_2?(this.sizenode_2.active=!1,this.updateTask(),this.UpProcess()):(this.upSizeNode_2(),this.updateTask_2()))},e.prototype.CheckPoint=function(t,e){return!!cc.Intersection.rectPolygon(t,e)},o([a([cc.Node])],e.prototype,"process",void 0),o([a([cc.String])],e.prototype,"title",void 0),o([a(cc.Node)],e.prototype,"clean_bar",void 0),o([a(cc.Node)],e.prototype,"sizenode",void 0),o([a(cc.Node)],e.prototype,"title_lable",void 0),o([a(cc.Node)],e.prototype,"currect",void 0),o([a(cc.Node)],e.prototype,"successEffectNode",void 0),o([a([cc.Node])],e.prototype,"process_2",void 0),o([a([cc.String])],e.prototype,"title_2",void 0),o([a(cc.Node)],e.prototype,"sizenode_2",void 0),o([h],e)}(cc.Component);c.default=l,cc._RF.pop()},{AudioManager:void 0,Game:void 0}],Clean_Btn:[function(t,e,c){"use strict";cc._RF.push(e,"8a4c2MowbdG66m0z0Nbyk1E","Clean_Btn");var i=__extends,o=__decorate;Object.defineProperty(c,"__esModule",{value:!0});var n=t("Clean5"),s=cc._decorator,r=s.ccclass,h=s.property,a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.index=0,e}return i(e,t),e.prototype.onLoad=function(){this.startpos=this.node.position,this.node.on(cc.Node.EventType.TOUCH_MOVE,this.TouchMove,this),this.node.on(cc.Node.EventType.TOUCH_END,this.TouchEnd,this),this.node.on(cc.Node.EventType.TOUCH_CANCEL,this.TouchEnd,this)},e.prototype.TouchMove=function(t){this.node.position=this.node.parent.convertToNodeSpaceAR(t.getLocation())},e.prototype.TouchEnd=function(t){this.node.position=this.node.parent.convertToNodeSpaceAR(t.getLocation());var e=this.node.parent.parent.getChildByName("rect");this.pointRect(this.node.position,cc.rect(e.x,e.y,e.width,e.height))?(this.node.active=!1,this.node.parent.parent.getChildByName("fangshoushi").children[this.index].active=!0,this.node.parent.parent.parent.getComponent(n.default).Check()):this.node.position=this.startpos},e.prototype.pointRect=function(t,e){return t.x>=e.x-e.width/2&&t.x<=e.x+e.width/2&&t.y>=e.y-e.height/2&&t.y<=e.y+e.height/2},o([h],e.prototype,"index",void 0),o([r],e)}(cc.Component);c.default=a,cc._RF.pop()},{Clean5:"Clean5"}]},{},["Clean5","Clean_Btn"]);