window.__require=function t(e,o,i){function n(r,a){if(!o[r]){if(!e[r]){var s=r.split("/");if(s=s[s.length-1],!e[s]){var l="function"==typeof __require&&__require;if(!a&&l)return l(s,!0);if(c)return c(s,!0);throw new Error("Cannot find module '"+r+"'")}r=s}var u=o[r]={exports:{}};e[r][0].call(u.exports,function(t){return n(e[r][1][t]||t)},u,u.exports,t,e,o,i)}return o[r].exports}for(var c="function"==typeof __require&&__require,r=0;r<i.length;r++)n(i[r]);return n}({LC_230_1:[function(t,e,o){"use strict";cc._RF.push(e,"c0efbaR/eZEl60rwDIiNjZk","LC_230_1");var i=__extends,n=__decorate,c=__awaiter,r=__generator;Object.defineProperty(o,"__esModule",{value:!0});var a=t("LevelCtrl_CommonResult"),s=t("AssetManager"),l=t("AudioManager"),u=cc._decorator,h=u.ccclass,p=u.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.iconLayout=null,e.iconItemPre=null,e.stage=null,e.black=null,e.light_1=null,e.light_2=null,e.destinationNodes=[],e.iconArr=[],e.guide=null,e.isCanCtrl=!1,e.compCount=0,e.soundTimeConfig=[3.7,6.2,6,6.3,3.7,6,6.8,6.8],e.nameConfig=["\u64e6\u73bb\u7483","\u732a\u732a\u821e","\u5c0f\u718a\u8df3\u821e","\u524d\u8f88\u821e","\u54e6\u54c8\u5466","\u817c\u8146\u4eba","\u751c\u5fc3\u821e","\u6211\u59d3\u77f3"],e}return i(e,t),e.prototype.onLoad=function(){var t=this;this.initIconItem(),this.initTouchEvent(),this.compCount=0,this.black.opacity=0,this.light_1.opacity=0,this.light_2.opacity=0,cc.tween(this.light_1).to(.1,{angle:5}).to(.2,{angle:-5}).to(.1,{angle:0}).union().repeatForever().start(),cc.tween(this.light_2).to(.1,{angle:-5}).to(.2,{angle:5}).to(.1,{angle:0}).union().repeatForever().start(),this.node.opacity=0,this.isCanCtrl=!1,s.default.loadSoundEffect_fileDir("AudioClip/LSF/230+/230",function(){t.node&&(t.isCanCtrl=!0,t.node.opacity=255)})},e.prototype.initIconItem=function(){for(var t=0;t<8;t++){var e=cc.instantiate(this.iconItemPre);e.setParent(this.iconLayout),e.getChildByName("icon").getComponent(cc.Sprite).spriteFrame=null,e.getChildByName("lbl").getComponent(cc.Label).string=""}},e.prototype.initTouchEvent=function(){for(var t=0;t<8;t++){var e=this.destinationNodes[t],o=e.getChildByName("touchNode");o.on(cc.Node.EventType.TOUCH_END,this.onTouchOne.bind(this,t,e,o),this)}},e.prototype.onTouchOne=function(t,e,o){return c(this,void 0,void 0,function(){var i,n,c;return r(this,function(r){switch(r.label){case 0:return this.isCanCtrl?(null!==this.guide&&(this.guide.active=!1),l.default.playEffect("230-findOne"),this.isCanCtrl=!1,o.off(cc.Node.EventType.TOUCH_END),cc.tween(e).by(1,{y:100},{easing:"quadOut"}).start(),cc.tween(e).delay(.5).to(.5,{opacity:0}).start(),[4,this.wait(1)]):[2];case 1:return r.sent(),e.parent=this.stage,i=.5*e.height,e.setPosition(0,i+80),cc.tween(e).to(.5,{opacity:255}).start(),cc.tween(e).to(1,{y:i},{easing:"quadIn"}).start(),[4,this.wait(1)];case 2:return r.sent(),cc.tween(this.black).to(.5,{opacity:200},{easing:"fade"}).start(),[4,this.wait(.5)];case 3:return r.sent(),this.light_1.opacity=255,this.light_2.opacity=255,l.default.playEffect("230-"+(t+1)),n=this.soundTimeConfig[t],cc.tween(e).to(.5,{scaleX:-1}).delay(.25).to(.5,{scaleX:1}).delay(.5).union().repeat(Math.ceil(n/2)).start(),[4,this.wait(n)];case 4:return r.sent(),this.light_1.opacity=0,this.light_2.opacity=0,c=(c=this.stage.convertToNodeSpaceAR(this.iconLayout.convertToWorldSpaceAR(cc.Vec2.ZERO))).add(this.iconLayout.children[this.compCount].getPosition()),cc.tween(e).to(.75,{x:c.x,y:c.y}).to(.25,{scale:0,opacity:0}).start(),[4,this.wait(1)];case 5:return r.sent(),cc.tween(this.black).to(.5,{opacity:0},{easing:"fade"}).start(),this.onShowIcon(t),this.isCanCtrl=!0,[2]}})})},e.prototype.onShowIcon=function(t){var e=this.iconArr[t];this.iconLayout.children[this.compCount].getChildByName("icon").getComponent(cc.Sprite).spriteFrame=e;var o=this.nameConfig[t];this.iconLayout.children[this.compCount].getChildByName("lbl").getComponent(cc.Label).string=o,this.compCount+=1,this.compCount>=8&&this.onSucc()},e.prototype.onSucc=function(){this.node.getComponent(a.default).onGameSucc()},e.prototype.wait=function(t){var e=this;return new Promise(function(o){e.schedule(o,t)})},n([p(cc.Node)],e.prototype,"iconLayout",void 0),n([p(cc.Prefab)],e.prototype,"iconItemPre",void 0),n([p(cc.Node)],e.prototype,"stage",void 0),n([p(cc.Node)],e.prototype,"black",void 0),n([p(cc.Node)],e.prototype,"light_1",void 0),n([p(cc.Node)],e.prototype,"light_2",void 0),n([p([cc.Node])],e.prototype,"destinationNodes",void 0),n([p([cc.SpriteFrame])],e.prototype,"iconArr",void 0),n([p(cc.Node)],e.prototype,"guide",void 0),n([h],e)}(cc.Component);o.default=d,cc._RF.pop()},{AssetManager:void 0,AudioManager:void 0,LevelCtrl_CommonResult:void 0}]},{},["LC_230_1"]);