window.__require=function t(o,e,i){function c(s,h){if(!e[s]){if(!o[s]){var l=s.split("/");if(l=l[l.length-1],!o[l]){var r="function"==typeof __require&&__require;if(!h&&r)return r(l,!0);if(n)return n(l,!0);throw new Error("Cannot find module '"+s+"'")}s=l}var p=e[s]={exports:{}};o[s][0].call(p.exports,function(t){return c(o[s][1][t]||t)},p,p.exports,t,o,e,i)}return e[s].exports}for(var n="function"==typeof __require&&__require,s=0;s<i.length;s++)c(i[s]);return c}({Level_29_1_Action:[function(t,o,e){"use strict";cc._RF.push(o,"7fea4M45ApKnZBe9g9Od7W6","Level_29_1_Action");var i=__extends,c=__decorate;Object.defineProperty(e,"__esModule",{value:!0});var n=t("Level_29_1_Move"),s=cc._decorator,h=s.ccclass,l=s.property,r=function(t){function o(){var o=null!==t&&t.apply(this,arguments)||this;return o.parentNode=null,o.id=0,o.isover=!1,o.level=null,o}return i(o,t),o.prototype.onLoad=function(){var t=this;this.level=this.parentNode.getComponent(n.default),this.node.opacity=0,this.scheduleOnce(function(){t.node&&(t.node.opacity=255,t.isover&&t.level.init())},.2*this.id)},o.prototype.update=function(){},c([l(cc.Node)],o.prototype,"parentNode",void 0),c([l],o.prototype,"id",void 0),c([l],o.prototype,"isover",void 0),c([h],o)}(cc.Component);e.default=r,cc._RF.pop()},{Level_29_1_Move:"Level_29_1_Move"}],Level_29_1_Move:[function(t,o,e){"use strict";cc._RF.push(o,"d9ac3RoctNHFZF5EWgWHf8c","Level_29_1_Move");var i=__extends,c=__decorate;Object.defineProperty(e,"__esModule",{value:!0});var n=t("Level_29_1"),s=cc._decorator,h=s.ccclass,l=s.property,r=function(t){function o(){var o=null!==t&&t.apply(this,arguments)||this;return o.mask=null,o.tool=null,o.rect=null,o.guide=null,o.level=null,o.purgePosCount=0,o}return i(o,t),o.prototype.onLoad=function(){this.level=this.node.parent.parent.getComponent(n.default),this.maskPolygon=this.mask.getComponent(cc.PolygonCollider).points},o.prototype.initData=function(){var t=this.node.width,o=this.node.height;this.cleanPos=[],this.purgePosCount=0;for(var e=this.tool.width/4,i=0;i<t/e;i++)for(var c=0;c<o/e;c++){var n=cc.v2(-t/2+e*i,o/2-e*c);cc.Intersection.pointInPolygon(n,this.maskPolygon)&&this.cleanPos.push(n)}},o.prototype.BtnOnClick=function(){this.node.on(cc.Node.EventType.TOUCH_START,this.onTouchStart,this),this.node.on(cc.Node.EventType.TOUCH_MOVE,this.onTouchMove,this),this.node.on(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this),this.node.on(cc.Node.EventType.TOUCH_CANCEL,this.onTouchEnd,this)},o.prototype.BtnOffClick=function(){this.node.off(cc.Node.EventType.TOUCH_START,this.onTouchStart,this),this.node.off(cc.Node.EventType.TOUCH_MOVE,this.onTouchMove,this),this.node.off(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this),this.node.off(cc.Node.EventType.TOUCH_CANCEL,this.onTouchEnd,this)},o.prototype.init=function(){this.initData(),this.BtnOnClick(),this.guide.active=!0},o.prototype.onDisable=function(){this.BtnOffClick()},o.prototype.onTouchStart=function(){this.guide.active=!1},o.prototype.onTouchMove=function(t){var o=this.node.convertToNodeSpaceAR(t.getLocation());this.tool.position=cc.v3(o.x,o.y),this._addCircle(o);for(var e=this.tool.getBoundingBox(),i=0;i<this.cleanPos.length;i++)null!=this.cleanPos[i]&&e.contains(this.cleanPos[i])&&(this.purgePosCount+=1,this.cleanPos[i]=null)},o.prototype.onTouchEnd=function(){this.purgePosCount/(this.cleanPos.length/10*9.5)>1&&(this.level.successnum+=1,this.level.UpTask())},o.prototype._addCircle=function(t){var o=this.mask.getComponent(cc.Mask)._graphics;o.fillColor=cc.Color.BLACK,o.circle(t.x,t.y,this.rect.width),o.fill()},o.prototype.update=function(){},c([l(cc.Node)],o.prototype,"mask",void 0),c([l(cc.Node)],o.prototype,"tool",void 0),c([l(cc.Node)],o.prototype,"rect",void 0),c([l(cc.Node)],o.prototype,"guide",void 0),c([h],o)}(cc.Component);e.default=r,cc._RF.pop()},{Level_29_1:"Level_29_1"}],Level_29_1_Task:[function(t,o,e){"use strict";cc._RF.push(o,"05ed6sOs/5Lx4jtCTT2E6/e","Level_29_1_Task");var i=__extends,c=__decorate;Object.defineProperty(e,"__esModule",{value:!0});var n=t("Level_29_1"),s=cc._decorator,h=s.ccclass,l=s.property,r=function(t){function o(){var o=null!==t&&t.apply(this,arguments)||this;return o.mask=null,o.mask1=null,o.tool=null,o.rect=null,o.bar=null,o.level=null,o.purgePosCount=0,o.startposX=0,o.endposX=-800,o.isTouched=!1,o}return i(o,t),o.prototype.onLoad=function(){this.level=this.node.parent.parent.getComponent(n.default),this.maskPolygon=this.mask.getComponent(cc.PolygonCollider).points,this.bar&&(this.bar.getComponent(cc.ProgressBar).progress=0),this.initData()},o.prototype.initData=function(){var t=this.node.width,o=this.node.height;this.cleanPos=[],this.purgePosCount=0;for(var e=this.tool.width/4,i=0;i<t/e;i++)for(var c=0;c<o/e;c++){var n=cc.v2(-t/2+e*i,o/2-e*c);cc.Intersection.pointInPolygon(n,this.maskPolygon)&&this.cleanPos.push(n)}},o.prototype.BtnOnClick=function(){this.tool.on(cc.Node.EventType.TOUCH_START,this.onTouch,this),this.tool.on(cc.Node.EventType.TOUCH_MOVE,this.onTouchMove,this),this.tool.on(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this),this.tool.on(cc.Node.EventType.TOUCH_CANCEL,this.onTouchEnd,this)},o.prototype.BtnOffClick=function(){this.tool.off(cc.Node.EventType.TOUCH_START,this.onTouch,this),this.tool.off(cc.Node.EventType.TOUCH_MOVE,this.onTouchMove,this),this.tool.off(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this),this.tool.off(cc.Node.EventType.TOUCH_CANCEL,this.onTouchEnd,this)},o.prototype.onEnable=function(){var t=this;cc.tween(this.tool).to(.5,{position:cc.v3(this.startposX,this.tool.y)}).call(function(){t.startpos=t.tool.position,t.BtnOnClick()}).start()},o.prototype.onDisable=function(){this.tool.x=-800,this.BtnOffClick()},o.prototype.onTouch=function(){this.isTouched=!0},o.prototype.onTouchMove=function(t){if(this.isTouched){this.tool.setPosition(this.tool.getPosition().add(t.getDelta().mul(.6666666666666666))),this.mask1&&this.updateMsk1();var o=cc.v2(this.tool.x+this.rect.x,this.tool.y+this.rect.y);this._addCircle(o);for(var e=this.tool.getBoundingBox(),i=0;i<this.cleanPos.length;i++)if(null!=this.cleanPos[i]&&e.contains(this.cleanPos[i])&&(this.purgePosCount+=1,this.cleanPos[i]=null,this.bar)){var c=this.purgePosCount/(this.cleanPos.length/10*9);c>=1&&(c=1),this.bar.getComponent(cc.ProgressBar).progress=c}}},o.prototype.onTouchEnd=function(){this.isTouched=!1,this.tool.position=this.startpos,this.mask1&&this.updateMsk1(),this.purgePosCount/(this.cleanPos.length/10*9)>1&&(this.level.successnum+=1,this.level.UpTask())},o.prototype._addCircle=function(t){var o=this.mask.getComponent(cc.Mask)._graphics;o.fillColor=cc.Color.BLACK,o.circle(t.x,t.y,this.rect.width),o.fill()},o.prototype.updateMsk1=function(){var t=this.mask1.getComponent(cc.Mask)._graphics;t.clear(),t.fillColor=cc.Color.BLACK,t.rect(this.tool.x-this.tool.width/2,this.tool.y-10,217,200),t.fill()},o.prototype.update=function(){},c([l(cc.Node)],o.prototype,"mask",void 0),c([l(cc.Node)],o.prototype,"mask1",void 0),c([l(cc.Node)],o.prototype,"tool",void 0),c([l(cc.Node)],o.prototype,"rect",void 0),c([l(cc.Node)],o.prototype,"bar",void 0),c([h],o)}(cc.Component);e.default=r,cc._RF.pop()},{Level_29_1:"Level_29_1"}],Level_29_1:[function(t,o,e){"use strict";cc._RF.push(o,"6c09dHt0mdIT73bOo5tl0y3","Level_29_1");var i=__extends,c=__decorate;Object.defineProperty(e,"__esModule",{value:!0});var n=t("LevelUIBase"),s=cc._decorator,h=s.ccclass,l=s.property,r=function(t){function o(){var o=null!==t&&t.apply(this,arguments)||this;return o.task=null,o.title_lable=null,o.face_sprite=null,o.title=[],o.successnum=0,o}return i(o,t),o.prototype.onLoad=function(){this.dd=this.node.getChildByName("dd"),this.UpTask()},o.prototype.UpTask=function(){if(this.successnum==this.task.childrenCount)return this.task.children[this.successnum-1].getChildByName("node").getChildByName("lian2").getComponent(cc.Sprite).spriteFrame=this.face_sprite,void this.GameWin();for(var t=0;t<this.task.childrenCount;t++)t==this.successnum?(this.task.children[t].active=!0,this.title_lable.getComponent(cc.Label).string=this.title[t]):this.task.children[t].active=!1},o.prototype.update=function(){},c([l(cc.Node)],o.prototype,"task",void 0),c([l(cc.Node)],o.prototype,"title_lable",void 0),c([l(cc.SpriteFrame)],o.prototype,"face_sprite",void 0),c([l([cc.String])],o.prototype,"title",void 0),c([h],o)}(n.default);e.default=r,cc._RF.pop()},{LevelUIBase:void 0}],Level_29_2_Action2:[function(t,o,e){"use strict";cc._RF.push(o,"fdc45z5+V5DSq3gf3U7MJMo","Level_29_2_Action2");var i=__extends,c=__decorate;Object.defineProperty(e,"__esModule",{value:!0});var n=t("Level_29_1"),s=cc._decorator,h=s.ccclass,l=s.property,r=function(t){function o(){var o=null!==t&&t.apply(this,arguments)||this;return o.check_rect=null,o.tool=null,o.rect=null,o.action=null,o.scripts_node=null,o.level=null,o.startposX=0,o.endposX=-800,o.isTouched=!1,o}return i(o,t),o.prototype.onLoad=function(){this.level=this.scripts_node.getComponent(n.default)},o.prototype.BtnOnClick=function(){this.tool.on(cc.Node.EventType.TOUCH_START,this.onTouch,this),this.tool.on(cc.Node.EventType.TOUCH_MOVE,this.onTouchMove,this),this.tool.on(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this),this.tool.on(cc.Node.EventType.TOUCH_CANCEL,this.onTouchEnd,this)},o.prototype.BtnOffClick=function(){this.tool.off(cc.Node.EventType.TOUCH_START,this.onTouch,this),this.tool.off(cc.Node.EventType.TOUCH_MOVE,this.onTouchMove,this),this.tool.off(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this),this.tool.off(cc.Node.EventType.TOUCH_CANCEL,this.onTouchEnd,this)},o.prototype.onDisable=function(){this.tool.x=-800,this.BtnOffClick()},o.prototype.onEnable=function(){var t=this;cc.tween(this.tool).to(.5,{position:cc.v3(this.startposX,this.tool.y)}).call(function(){t.startpos=t.tool.position,t.BtnOnClick()}).start()},o.prototype.onTouch=function(){this.isTouched=!0},o.prototype.onTouchMove=function(t){if(this.isTouched){this.tool.setPosition(this.tool.getPosition().add(t.getDelta().mul(.6666666666666666)));var o=cc.v2(this.tool.x+this.rect.x,this.tool.y+this.rect.y);this.CheckRect(o)}},o.prototype.onTouchEnd=function(){this.isTouched=!1,this.tool.position=this.startpos;var t=cc.v2(this.tool.x+this.rect.x,this.tool.y+this.rect.y);this.CheckRect(t)},o.prototype.CheckRect=function(t){var o=cc.rect(this.check_rect.x,this.check_rect.y,this.check_rect.width,this.check_rect.height),e=this;if(e.pointRect(t,o)){e.BtnOffClick();var i=e.action.getChildByName("tool1"),c=e.action.getChildByName("tool2"),n=e.action.getChildByName("mask");i.active=!0,c.active=!0,e.tool.active=!1,e.MoveAction(i,800,i.y,function(){}),e.MoveAction(c,800,c.y,function(){}),e.MoveAction(n,800,n.y,function(){e.level.successnum+=1,e.level.UpTask()})}},o.prototype.MoveAction=function(t,o,e,i){cc.tween(t).to(1,{position:cc.v3(o,e)}).call(function(){i()}).start()},o.prototype.pointRect=function(t,o){return t.x>=o.x-o.width/2&&t.x<=o.x+o.width/2&&t.y>=o.y-o.height/2&&t.y<=o.y+o.height/2},o.prototype.update=function(){},c([l(cc.Node)],o.prototype,"check_rect",void 0),c([l(cc.Node)],o.prototype,"tool",void 0),c([l(cc.Node)],o.prototype,"rect",void 0),c([l(cc.Node)],o.prototype,"action",void 0),c([l(cc.Node)],o.prototype,"scripts_node",void 0),c([h],o)}(cc.Component);e.default=r,cc._RF.pop()},{Level_29_1:"Level_29_1"}],Level_29_2_Action:[function(t,o,e){"use strict";cc._RF.push(o,"7b7efEK151CbKF8uJdFG0Ug","Level_29_2_Action");var i=__extends,c=__decorate;Object.defineProperty(e,"__esModule",{value:!0});var n=t("Level_29_1"),s=cc._decorator,h=s.ccclass,l=s.property,r=function(t){function o(){var o=null!==t&&t.apply(this,arguments)||this;return o.check_rect=null,o.tool=null,o.rect=null,o.action=null,o.scripts_node=null,o.level=null,o.startposX=0,o.endposX=-800,o.isTouched=!1,o}return i(o,t),o.prototype.onLoad=function(){this.level=this.scripts_node.getComponent(n.default)},o.prototype.BtnOnClick=function(){this.tool.on(cc.Node.EventType.TOUCH_START,this.onTouch,this),this.tool.on(cc.Node.EventType.TOUCH_MOVE,this.onTouchMove,this),this.tool.on(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this),this.tool.on(cc.Node.EventType.TOUCH_CANCEL,this.onTouchEnd,this)},o.prototype.BtnOffClick=function(){this.tool.off(cc.Node.EventType.TOUCH_START,this.onTouch,this),this.tool.off(cc.Node.EventType.TOUCH_MOVE,this.onTouchMove,this),this.tool.off(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this),this.tool.off(cc.Node.EventType.TOUCH_CANCEL,this.onTouchEnd,this)},o.prototype.onDisable=function(){this.tool.x=-800,this.BtnOffClick()},o.prototype.onEnable=function(){var t=this;cc.tween(this.tool).to(.5,{position:cc.v3(this.startposX,this.tool.y)}).call(function(){t.startpos=t.tool.position,t.BtnOnClick()}).start()},o.prototype.onTouch=function(){this.isTouched=!0},o.prototype.onTouchMove=function(t){if(this.isTouched){this.tool.setPosition(this.tool.getPosition().add(t.getDelta().mul(.6666666666666666)));var o=cc.v2(this.tool.x+this.rect.x,this.tool.y+this.rect.y);this.CheckRect(o)}},o.prototype.onTouchEnd=function(){this.isTouched=!1,this.tool.position=this.startpos;var t=cc.v2(this.tool.x+this.rect.x,this.tool.y+this.rect.y);this.CheckRect(t)},o.prototype.CheckRect=function(t){var o=cc.rect(this.check_rect.x,this.check_rect.y,this.check_rect.width,this.check_rect.height),e=this;if(e.pointRect(t,o)){e.BtnOffClick();var i=e.action.getChildByName("tool1"),c=e.action.getChildByName("tool2"),n=e.action.getChildByName("mask"),s=e.action.getChildByName("worm");i.active=!0,c.active=!0,e.tool.active=!1,e.MoveAction(i,i.x,150,function(){}),e.MoveAction(c,c.x,150,function(){}),e.MoveAction(n.children[0],n.children[0].x,150,function(){n.active=!1,s.active=!0,e.MoveAction(i,800,i.y,function(){}),e.MoveAction(c,800,c.y,function(){}),e.MoveAction(s,800,s.y,function(){e.level.successnum+=1,e.level.UpTask()})})}},o.prototype.MoveAction=function(t,o,e,i){cc.tween(t).to(.5,{position:cc.v3(o,e)}).call(function(){i()}).start()},o.prototype.pointRect=function(t,o){return t.x>=o.x-o.width/2&&t.x<=o.x+o.width/2&&t.y>=o.y-o.height/2&&t.y<=o.y+o.height/2},o.prototype.update=function(){},c([l(cc.Node)],o.prototype,"check_rect",void 0),c([l(cc.Node)],o.prototype,"tool",void 0),c([l(cc.Node)],o.prototype,"rect",void 0),c([l(cc.Node)],o.prototype,"action",void 0),c([l(cc.Node)],o.prototype,"scripts_node",void 0),c([h],o)}(cc.Component);e.default=r,cc._RF.pop()},{Level_29_1:"Level_29_1"}]},{},["Level_29_1","Level_29_1_Action","Level_29_1_Move","Level_29_1_Task","Level_29_2_Action","Level_29_2_Action2"]);