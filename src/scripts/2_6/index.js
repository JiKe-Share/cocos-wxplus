window.__require=function e(t,o,i){function c(r,s){if(!o[r]){if(!t[r]){var a=r.split("/");if(a=a[a.length-1],!t[a]){var d="function"==typeof __require&&__require;if(!s&&d)return d(a,!0);if(n)return n(a,!0);throw new Error("Cannot find module '"+r+"'")}r=a}var h=o[r]={exports:{}};t[r][0].call(h.exports,function(e){return c(t[r][1][e]||e)},h,h.exports,e,t,o,i)}return o[r].exports}for(var n="function"==typeof __require&&__require,r=0;r<i.length;r++)c(i[r]);return c}({Food_6_eraser:[function(e,t,o){"use strict";cc._RF.push(t,"adf9et+58VB07s64FKjjTBT","Food_6_eraser");var i=__extends,c=__decorate;Object.defineProperty(o,"__esModule",{value:!0});var n=cc._decorator,r=n.ccclass,s=n.property,a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.sizeNode=null,t.mask=null,t.lineWidth=48,t.circleRadius=12,t.touchNode=null,t.toolEraserPos=cc.Vec2.ZERO,t.toolCoreStartPos=cc.Vec2.ZERO,t.itemPointsArr=[],t.toolCore=null,t.graphics=null,t.cb_comp=null,t}return i(t,e),t.prototype.init=function(e,t,o,i,c,n,r,s){this.toolCore=e,this.toolEraserPos=o,this.toolCoreStartPos=e.getPosition(),this.graphics=this.mask.getComponent(cc.Mask)._graphics,this.graphics.lineCap=cc.Graphics.LineCap.ROUND,this.graphics.lineJoin=cc.Graphics.LineJoin.ROUND,this.graphics.fillColor=cc.Color.WHITE,this.graphics.lineWidth=this.lineWidth,this.graphics.strokeColor=cc.Color.WHITE,this.itemPointsArr=this.getItemPoints(this.mask,i,c,n,r),this.touchNode=t,t.on(cc.Node.EventType.TOUCH_MOVE,this.touch_move,this),t.on(cc.Node.EventType.TOUCH_END,this.touch_end,this),this.cb_comp=s},t.prototype.touch_move=function(e){var t=e.getDelta().x/this.sizeNode.scaleX,o=e.getDelta().y/this.sizeNode.scaleY;this.toolCore.setPosition(this.toolCore.getPosition().add(cc.v2(t,o)));var i=this.toolCore.convertToWorldSpaceAR(this.toolEraserPos),c=i.sub(e.getDelta()),n=this.mask.convertToNodeSpaceAR(i),r=this.mask.convertToNodeSpaceAR(c);this.graphics.circle(n.x,n.y,12),this.graphics.fill(),this.checkCircle(i,this.circleRadius),this.graphics.moveTo(r.x,r.y),this.graphics.lineTo(n.x,n.y),this.graphics.stroke(),this.checkPolygon(c,i,this.lineWidth)},t.prototype.touch_end=function(){this.toolCore.setPosition(this.toolCoreStartPos),this.itemPointsArr.length<=10&&(this.mask.getComponent(cc.Mask).enabled=!1,this.touchNode.off(cc.Node.EventType.TOUCH_MOVE),this.touchNode.off(cc.Node.EventType.TOUCH_END),this.cb_comp&&this.cb_comp())},t.prototype.getItemPoints=function(e,t,o,i,c){for(var n=[],r=t/c,s=o/i,a=1;a<c;a++)for(var d=1;d<i;d++){var h=e.convertToWorldSpaceAR(cc.v2(-t/2+a*r,o/2-d*s));n.push(h)}return n},t.prototype.checkCircle=function(e,t){for(var o=this.itemPointsArr.length-1;o>=0;o--)this.itemPointsArr[o].sub(e).mag()<=t*this.sizeNode.scale&&(this.itemPointsArr.splice(o,1),this.itemPointsArr.length)},t.prototype.checkPolygon=function(e,t,o){o*=this.sizeNode.scale;for(var i=e.sub(t).normalize(),c=e.add(i.rotate(Math.PI/2).mul(o/2)),n=e.add(i.rotate(-Math.PI/2).mul(o/2)),r=[c,t.add(i.rotate(Math.PI/2).mul(o/2)),t.add(i.rotate(-Math.PI/2).mul(o/2)),n],s=this.itemPointsArr.length-1;s>=0;s--)cc.Intersection.pointInPolygon(this.itemPointsArr[s],r)&&(this.itemPointsArr.splice(s,1),this.itemPointsArr.length)},c([s(cc.Node)],t.prototype,"sizeNode",void 0),c([s(cc.Node)],t.prototype,"mask",void 0),c([s(cc.Float)],t.prototype,"lineWidth",void 0),c([s(cc.Float)],t.prototype,"circleRadius",void 0),c([r],t)}(cc.Component);o.default=a,cc._RF.pop()},{}],Food_6:[function(e,t,o){"use strict";cc._RF.push(t,"0a213yOrrhAdKTdj9WDmn15","Food_6");var i=__extends,c=__decorate;Object.defineProperty(o,"__esModule",{value:!0});var n=e("Game"),r=e("Food_6_eraser"),s=cc._decorator,a=s.ccclass,d=s.property,h=function(){function e(){this.sfArr=[],this.sfArr_juan=[]}return c([d([cc.SpriteFrame])],e.prototype,"sfArr",void 0),c([d([cc.SpriteFrame])],e.prototype,"sfArr_juan",void 0),c([a("sfArr_ef5")],e)}(),l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.titleArr=["\u6b65\u9aa4\u540d\u79f0-1","\u6b65\u9aa4\u540d\u79f0-2"],t.sizeNode=null,t.sfArr_ef4=[],t.sfArr_ef5=[],t.sfArr_juan=[],t.progressBar=null,t.lbl_tile=null,t.totalProgress=0,t.currProgress=0,t.foodIndex=0,t}return i(t,e),t.prototype.onLoad=function(){cc.macro.ENABLE_MULTI_TOUCH=!1,this.progressBar=this.node.getChildByName("progressBar").getComponent(cc.ProgressBar),this.lbl_tile=this.node.getChildByName("lbl_title").getComponent(cc.Label),this.totalProgress=this.titleArr.length,this.currProgress=0,this.refreshTask()},t.prototype.start=function(){},t.prototype.onDestroy=function(){},t.prototype.onAddProgress=function(){this.currProgress+=1,this.refreshTask(),this.currProgress>=this.totalProgress&&this.onGameSucc()},t.prototype.onRefreshProgressBar=function(e){this.progressBar.progress=e,this.progressBar.node.opacity=255},t.prototype.refreshTask=function(){this.lbl_tile.string=this.titleArr[this.currProgress],this.progressBar.node.opacity=0,0==this.currProgress&&this.initTask_1()},t.prototype.onGameSucc=function(){this.lbl_tile.string="",this.node.getChildByName("ef_stars").active=!0,this.scheduleOnce(function(){cc.find("Canvas/game").getComponent(n.default).answerCrrect({position:cc.Vec2.ZERO,show:!0})},3)},t.prototype.initTask_1=function(){var e=this,t=this.node.getChildByName("taskParent"),o=t.getChildByName("ef_1"),i=t.getChildByName("task_1");o.active=!0,o.children[0].opacity=0,o.children[1].opacity=0,o.children[2].opacity=0,i.active=!0;var c=i.getChildByName("rect"),n=i.getChildByName("tool"),r=n.getChildByName("core"),s=r.getChildByName("touchNode"),a=n.getChildByName("ef");n.setPosition(-500,-250),cc.tween(n).to(.5,{x:0}).start();var d=0;s.on(cc.Node.EventType.TOUCH_MOVE,function(t){var i,s=t.getDelta().x/e.sizeNode.scaleX,h=t.getDelta().y/e.sizeNode.scaleY;n.setPosition(n.getPosition().add(cc.v2(s,h)));var l=n.convertToWorldSpaceAR(cc.Vec2.ZERO);c.getBoundingBoxToWorld().contains(l)?(a.opacity=255,r.angle=45,(i=d+=.005)<=.33?(o.children[0].opacity=i/.33*255,o.children[1].opacity=0,o.children[2].opacity=0):i<=.66?(o.children[0].opacity=255,o.children[1].opacity=255,o.children[2].opacity=0):(o.children[0].opacity=255,o.children[1].opacity=255,o.children[2].opacity=255)):(a.opacity=0,r.angle=0)},this);var h=function(){n.setPosition(0,-250),r.angle=0,a.opacity=0,d>=.66&&(s.off(cc.Node.EventType.TOUCH_MOVE),s.off(cc.Node.EventType.TOUCH_END),s.off(cc.Node.EventType.TOUCH_CANCEL),cc.tween(n).to(.5,{x:500}).start(),e.scheduleOnce(e.initTask_2,.5))};s.on(cc.Node.EventType.TOUCH_END,h,this),s.on(cc.Node.EventType.TOUCH_CANCEL,h,this)},t.prototype.initTask_2=function(){var e=this,t=this.node.getChildByName("taskParent");t.getChildByName("task_1").active=!1,this.onAddProgress();var o=t.getChildByName("task_2"),i=t.getChildByName("ef_2");i.active=!0,i.children[0].opacity=0,i.children[1].opacity=0,o.active=!0;var c=o.getChildByName("rect"),n=o.getChildByName("tool_1"),r=o.getChildByName("tool_2"),s=o.getChildByName("tool_3");o.setPosition(-800,0),cc.tween(o).to(.5,{x:0}).start();var a=0,d=function(t,o){var s,d=o.getDelta().x/e.sizeNode.scaleX,h=o.getDelta().y/e.sizeNode.scaleY;t.setPosition(t.getPosition().add(cc.v2(d,h)));var l=t.convertToWorldSpaceAR(cc.Vec2.ZERO);c.getBoundingBoxToWorld().contains(l)?(t.children[1].opacity=255,t.children[0].angle=45,(s=t)==n||s==r?i.children[0].opacity=255:i.children[1].opacity=255,a=1):(t.children[1].opacity=0,t.children[0].angle=0)};n.children[0].children[0].on(cc.Node.EventType.TOUCH_MOVE,d.bind(this,n),this),r.children[0].children[0].on(cc.Node.EventType.TOUCH_MOVE,d.bind(this,r),this),s.children[0].children[0].on(cc.Node.EventType.TOUCH_MOVE,d.bind(this,s),this);var h=function(){n.setPosition(-150,-250),r.setPosition(0,-250),s.setPosition(150,-250),n.children[1].opacity=0,n.children[0].angle=0,r.children[1].opacity=0,r.children[0].angle=0,s.children[1].opacity=0,s.children[0].angle=0,a>0&&a>=.66&&(n.children[0].children[0].off(cc.Node.EventType.TOUCH_MOVE),n.children[0].children[0].off(cc.Node.EventType.TOUCH_END),n.children[0].children[0].off(cc.Node.EventType.TOUCH_CANCEL),r.children[0].children[0].off(cc.Node.EventType.TOUCH_MOVE),r.children[0].children[0].off(cc.Node.EventType.TOUCH_END),r.children[0].children[0].off(cc.Node.EventType.TOUCH_CANCEL),s.children[0].children[0].off(cc.Node.EventType.TOUCH_MOVE),s.children[0].children[0].off(cc.Node.EventType.TOUCH_END),s.children[0].children[0].off(cc.Node.EventType.TOUCH_CANCEL),cc.tween(n).to(.5,{x:500}).start(),cc.tween(r).to(.5,{x:650}).start(),cc.tween(s).to(.5,{x:800}).start(),e.scheduleOnce(e.initTask_3,.5))};n.children[0].children[0].on(cc.Node.EventType.TOUCH_END,h,this),r.children[0].children[0].on(cc.Node.EventType.TOUCH_END,h,this),s.children[0].children[0].on(cc.Node.EventType.TOUCH_END,h,this),n.children[0].children[0].on(cc.Node.EventType.TOUCH_CANCEL,h,this),r.children[0].children[0].on(cc.Node.EventType.TOUCH_CANCEL,h,this),s.children[0].children[0].on(cc.Node.EventType.TOUCH_CANCEL,h,this)},t.prototype.initTask_3=function(){var e=this,t=this.node.getChildByName("taskParent");t.getChildByName("task_2").active=!1,this.onAddProgress();var o=t.getChildByName("task_3"),i=t.getChildByName("ef_3");i.active=!0,o.active=!0;var c=o.getChildByName("tool_1"),n=o.getChildByName("tool_2"),s=o.getChildByName("tool_3"),a=o.getChildByName("tool_4");o.setPosition(-800,0),cc.tween(o).to(.5,{x:0}).start();var d=null,h=null,l=function(t,o){e.foodIndex=o,d=t,h=t.getChildByName("core"),t!=c&&(cc.tween(c).to(.5,{x:800}).call(function(){c.active=!1}).start(),i.children[0].active=!1),t!=n&&(cc.tween(n).to(.5,{x:800}).call(function(){n.active=!1}).start(),i.children[1].active=!1),t!=s&&(cc.tween(s).to(.5,{x:800}).call(function(){s.active=!1}).start(),i.children[2].active=!1),t!=a&&(cc.tween(a).to(.5,{x:800}).call(function(){a.active=!1}).start(),i.children[3].active=!1),e.scheduleOnce(function(){c.getChildByName("core").children[0].off(cc.Node.EventType.TOUCH_START),n.getChildByName("core").children[0].off(cc.Node.EventType.TOUCH_START),s.getChildByName("core").children[0].off(cc.Node.EventType.TOUCH_START),a.getChildByName("core").children[0].off(cc.Node.EventType.TOUCH_START)},0),i.getComponent(r.default).init(h,h.children[0],cc.v2(-90,-68),460,360,6,8,function(){cc.tween(d).to(.5,{x:800}).start(),e.scheduleOnce(e.initTask_4,.5)})};c.getChildByName("core").children[0].on(cc.Node.EventType.TOUCH_START,l.bind(this,c,0),this),n.getChildByName("core").children[0].on(cc.Node.EventType.TOUCH_START,l.bind(this,n,1),this),s.getChildByName("core").children[0].on(cc.Node.EventType.TOUCH_START,l.bind(this,s,2),this),a.getChildByName("core").children[0].on(cc.Node.EventType.TOUCH_START,l.bind(this,a,3),this)},t.prototype.initTask_4=function(){var e=this,t=this.node.getChildByName("taskParent");t.getChildByName("task_3").active=!1,this.onAddProgress();var o=t.getChildByName("task_4"),i=t.getChildByName("ef_4");i.getChildByName("sprite").getComponent(cc.Sprite).spriteFrame=this.sfArr_ef4[this.foodIndex],i.active=!0,o.active=!0;var c=o.getChildByName("tool");o.setPosition(-800,0),cc.tween(o).to(.5,{x:0}).start();var n=c.getChildByName("core"),s=n.getChildByName("touchNode");i.getComponent(r.default).init(n,s,cc.v2(0,140),520,380,8,10,function(){cc.tween(c).to(.5,{x:800}).start(),e.scheduleOnce(e.initTask_5,.5)})},t.prototype.initTask_5=function(){var e=this,t=this.node.getChildByName("taskParent");t.getChildByName("task_4").active=!1,t.getChildByName("ef_1").active=!1,t.getChildByName("ef_2").active=!1,t.getChildByName("ef_3").active=!1,t.getChildByName("ef_4").active=!1,this.onAddProgress();for(var o=[[cc.v2(-181.716,259.479),cc.v2(-194.446,-134.667)],[cc.v2(-109.653,259.479),cc.v2(-117.544,-134.667)],[cc.v2(-37.07,259.479),cc.v2(-39.452,-134.667)],[cc.v2(38.804,259.479),cc.v2(41.395,-134.667)],[cc.v2(110.203,259.479),cc.v2(117.829,-134.667)],[cc.v2(182.655,259.479),cc.v2(195.212,-134.667)]],i=t.getChildByName("task_5"),c=t.getChildByName("ef_5"),n=0;n<7;n++)c.children[n].getComponent(cc.Sprite).spriteFrame=this.sfArr_ef5[this.foodIndex].sfArr[n];c.active=!0,i.active=!0;var r=i.getChildByName("tool");i.setPosition(-800,0),cc.tween(i).to(.5,{x:0}).start();var s=function(e){var t=e;a.scheduleOnce(function(){cc.tween(r).to(.4,{x:o[t][0].x,y:o[t][0].y}).to(.6,{x:o[t][1].x,y:o[t][1].y}).call(function(){cc.tween(c.children[t]).by(.2,{x:-3-.2*(6-t),y:3}).start()}).start()},.6+1.2*e)},a=this;for(n=0;n<6;n++)s(n);this.scheduleOnce(function(){cc.tween(i).to(.5,{x:800}).start(),e.scheduleOnce(e.initTask_6,.5)},7.799999999999999)},t.prototype.initTask_6=function(){var e=this,t=this.node.getChildByName("taskParent");t.getChildByName("task_5").active=!1,this.onAddProgress();for(var o=t.getChildByName("task_6"),i=t.getChildByName("ef_5"),c=0;c<7;c++)i.children[c].children[0].getComponent(cc.Sprite).spriteFrame=0==c||6==c?this.sfArr_ef5[this.foodIndex].sfArr_juan[0]:this.sfArr_ef5[this.foodIndex].sfArr_juan[2];i.active=!0,o.active=!0;var n=o.getChildByName("tool");o.setPosition(-800,0),cc.tween(o).to(.5,{x:0}).start();var r=0,s=function(t){var o=t.getDelta().x/e.sizeNode.scaleX,c=t.getDelta().y/e.sizeNode.scaleY;n.setPosition(n.getPosition().add(cc.v2(o,c)));for(var s=n.convertToWorldSpaceAR(cc.Vec2.ZERO),a=0;a<i.childrenCount;a++)if(!(i.children[a].getComponent(cc.Sprite).fillRange>=0)){var d=i.children[a].children[0];d.getBoundingBoxToWorld().contains(s)&&(i.children[a].getComponent(cc.Sprite).fillRange+=.25,d.opacity=255,d.setPosition(d.getPosition().add(cc.v2(0,.25*i.children[a].height))),i.children[a].getComponent(cc.Sprite).fillRange>=0&&(r+=1,d.getComponent(cc.Sprite).spriteFrame=e.sfArr_ef5[e.foodIndex].sfArr_juan[1]))}};n.children[0].children[0].on(cc.Node.EventType.TOUCH_MOVE,s,this),n.children[0].children[0].on(cc.Node.EventType.TOUCH_END,function t(){n.setPosition(0,-200),7==r&&(cc.tween(o).to(.5,{x:800}).start(),e.scheduleOnce(e.initTask_7,.5),n.children[0].children[0].off(cc.Node.EventType.TOUCH_MOVE,s,e),n.children[0].children[0].off(cc.Node.EventType.TOUCH_END,t,e))},this)},t.prototype.initTask_7=function(){var e=this,t=this.node.getChildByName("taskParent");t.getChildByName("task_6").active=!1,this.onAddProgress();for(var o=t.getChildByName("ef_5"),i=t.getChildByName("ef_7"),c=i.getChildByName("wan").getChildByName("juanParent"),n=i.getChildByName("tempJuan"),r=i.getChildByName("wan").convertToWorldSpaceAR(cc.Vec2.ZERO),s=0;s<7;s++)c.children[s].getComponent(cc.Sprite).spriteFrame=this.sfArr_juan[this.foodIndex];i.active=!0,i.setPosition(-800,0),cc.tween(i).to(.5,{x:0}).start();var a=0,d=function(t,o){t.setSiblingIndex(7);var i=o.getDelta().x/e.sizeNode.scaleX,n=o.getDelta().y/e.sizeNode.scaleY;t.setPosition(t.getPosition().add(cc.v2(i,n))),t.convertToWorldSpaceAR(cc.Vec2.ZERO).sub(r).mag()<=100&&(c.children[a].opacity=255,a+=1,t.active=!1,t.off(cc.Node.EventType.TOUCH_MOVE),a>=7&&e.scheduleOnce(e.initTask_8,.5))};this.scheduleOnce(function(){for(var t=0;t<7;t++){var i=o.children[t].children[0],c=i.convertToWorldSpaceAR(cc.Vec2.ZERO);i.parent=n,i.setPosition(n.convertToNodeSpaceAR(c)),i.on(cc.Node.EventType.TOUCH_MOVE,d.bind(e,i),e)}},.51)},t.prototype.initTask_8=function(){var e=this,t=this.node.getChildByName("taskParent");t.getChildByName("ef_5").active=!1,this.onAddProgress();var o=t.getChildByName("task_8"),i=t.getChildByName("ef_7"),c=i.getChildByName("ef_8");c.active=!0,o.active=!0;var n=o.getChildByName("tool_1"),r=o.getChildByName("tool_2");n.setPosition(-800,-280),cc.tween(n).to(.5,{x:-220}).start(),r.setPosition(800,-280),cc.tween(r).to(.5,{x:220}).start();var s=i.getChildByName("wan").convertToWorldSpaceAR(cc.Vec2.ZERO),a=function(e,t){var o=c.children[e];o.opacity=255;var i=t.getLocation();o.setPosition(c.convertToNodeSpaceAR(i))},d=function(t,o){var i=c.children[t];o.getLocation().sub(s).mag()<=100?(i.setPosition(0,-260),n.off(cc.Node.EventType.TOUCH_MOVE),n.off(cc.Node.EventType.TOUCH_END),n.off(cc.Node.EventType.TOUCH_CANCEL),r.off(cc.Node.EventType.TOUCH_MOVE),r.off(cc.Node.EventType.TOUCH_END),r.off(cc.Node.EventType.TOUCH_CANCEL),cc.tween(n).to(.5,{x:-800}).start(),cc.tween(r).to(.5,{x:800}).start(),e.scheduleOnce(e.onComp,.5)):i.opacity=0};n.on(cc.Node.EventType.TOUCH_MOVE,a.bind(this,0),this),n.on(cc.Node.EventType.TOUCH_END,d.bind(this,0),this),n.on(cc.Node.EventType.TOUCH_CANCEL,d.bind(this,0),this),r.on(cc.Node.EventType.TOUCH_MOVE,a.bind(this,1),this),r.on(cc.Node.EventType.TOUCH_END,d.bind(this,1),this),r.on(cc.Node.EventType.TOUCH_CANCEL,d.bind(this,1),this)},t.prototype.onComp=function(){this.node.getChildByName("taskParent").getChildByName("task_8").active=!1,this.onGameSucc()},c([d([cc.String])],t.prototype,"titleArr",void 0),c([d(cc.Node)],t.prototype,"sizeNode",void 0),c([d([cc.SpriteFrame])],t.prototype,"sfArr_ef4",void 0),c([d([h])],t.prototype,"sfArr_ef5",void 0),c([d([cc.SpriteFrame])],t.prototype,"sfArr_juan",void 0),c([a],t)}(cc.Component);o.default=l,cc._RF.pop()},{Food_6_eraser:"Food_6_eraser",Game:void 0}]},{},["Food_6","Food_6_eraser"]);