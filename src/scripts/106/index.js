window.__require=function e(t,o,n){function i(r,a){if(!o[r]){if(!t[r]){var l=r.split("/");if(l=l[l.length-1],!t[l]){var d="function"==typeof __require&&__require;if(!a&&d)return d(l,!0);if(c)return c(l,!0);throw new Error("Cannot find module '"+r+"'")}r=l}var s=o[r]={exports:{}};t[r][0].call(s.exports,function(e){return i(t[r][1][e]||e)},s,s.exports,e,t,o,n)}return o[r].exports}for(var c="function"==typeof __require&&__require,r=0;r<n.length;r++)i(n[r]);return i}({Level_106_4:[function(e,t,o){"use strict";cc._RF.push(t,"a171dNPbpZP+6Vi5U/AU7cJ","Level_106_4");var n=__extends,i=__decorate;Object.defineProperty(o,"__esModule",{value:!0});var c=e("LevelCtrl_CommonResult"),r=e("Level_106"),a=cc._decorator,l=a.ccclass;a.property;var d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.onEnable=function(){this.scheduleOnce(function(){window.AudioMag.stopBgm(),window.AudioMag.playBGM("lv_106/4/lv106_4_bgm")})},t.prototype.onDisable=function(){window.AudioMag.stopBgm(),window.AudioMag.playBGM("bgm_game")},t.prototype.VerifyCompletion=function(){var e=this;this.plan==this.content.childrenCount&&this.scheduleOnce(function(){e.node.getComponent(c.default).onGameSucc()},2)},i([l],t)}(r.default);o.default=d,cc._RF.pop()},{LevelCtrl_CommonResult:void 0,Level_106:"Level_106"}],Level_106_Icon:[function(e,t,o){"use strict";cc._RF.push(t,"a7a8a+wuRdINahgoD5ykvU4","Level_106_Icon");var n=__extends,i=__decorate;Object.defineProperty(o,"__esModule",{value:!0});var c=e("Level_106"),r=cc._decorator,a=r.ccclass,l=r.property,d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.levelparent=null,t.rect=null,t.icon_name="",t.ShowNode=[],t.index=0,t.count=0,t.iserr=!1,t}return n(t,e),t.prototype.onLoad=function(){this.node.getChildByName("biaoqian").getChildByName("name").getComponent(cc.Label).string=this.icon_name,this.level=this.levelparent.getComponent(c.default),this.level.icon.active=!1,this.movenode=this.node.children[0],this.movenode.on(cc.Node.EventType.TOUCH_START,this.TouchStart,this),this.movenode.on(cc.Node.EventType.TOUCH_MOVE,this.TouchMove,this),this.movenode.on(cc.Node.EventType.TOUCH_END,this.TouchEnd,this),this.movenode.on(cc.Node.EventType.TOUCH_CANCEL,this.TouchEnd,this),this.rect.getChildByName("biaoqian").active=!1},t.prototype.init=function(e){this.index=e},t.prototype.detectionerr=function(){var e=this;this.iserr||(this.iserr=!0,window.AudioMag.playSound("ef_012_fxc_err"),cc.tween(this.level.icon).by(.1,{x:20}).by(.1,{x:-40}).by(.2,{x:20}).call(function(){e.node.parent.parent.parent.getComponent(cc.ScrollView).enabled=!0,e.node.opacity=255,e.iserr=!1,e.level.icon.active=!1}).start())},t.prototype.getbgrect=function(){var e=this.levelparent.getChildByName("map").getChildByName("rect"),t=cc.rect(-e.width/2,-e.height/2,e.width+100,e.height+200),o=this.level.icon,n=cc.rect(o.x,o.y,o.width,o.height);return!!t.containsRect(n)},t.prototype.TouchStart=function(e){window.AudioMag.playSound("ef_012_putItem"),this.node.parent.parent.parent.getComponent(cc.ScrollView).enabled=!1,this.level.icon.active=!0,this.level.icon.getComponent(cc.Sprite).spriteFrame=this.movenode.getComponent(cc.Sprite).spriteFrame,this.level.icon.position=this.node.parent.parent.parent.parent.convertToNodeSpaceAR(e.getLocation()),this.level.icon.scale=1.2,this.node.opacity=0},t.prototype.TouchMove=function(e){this.level.icon.position=this.node.parent.parent.parent.parent.convertToNodeSpaceAR(e.getLocation())},t.prototype.TouchEnd=function(){var e=this;if(this.getbgrect()){this.count=0;var t=this.rect,o=cc.rect(t.x,t.y,t.width,t.height),n=this.level.icon,i=cc.rect(n.x,n.y,n.width,n.height);if(cc.Intersection.rectRect(i,o)){for(var c=0;c<this.ShowNode.length;c++){if(this.ShowNode[c].active){this.node.parent.parent.parent.getComponent(cc.ScrollView).enabled=!0;for(var r=0;r<this.ShowNode.length;r++)this.ShowNode[r].active=!0;return this.level.showdialog(this.index+1),window.AudioMag.playSound("lv_106/lv_106_f"),t.getChildByName("icon").getComponent(cc.Sprite).spriteFrame=this.movenode.getComponent(cc.Sprite).spriteFrame,t.scale=1.2,this.level.icon.active=!1,this.node.active=!1,void cc.tween(t).to(.5,{scale:1}).call(function(){e.rect.getChildByName("biaoqian").active=!0,e.rect.getChildByName("biaoqian").children[0].getComponent(cc.Label).string=e.icon_name,e.level.plan+=1,e.level.VerifyCompletion(),e.node.parent.parent.parent.getComponent(cc.ScrollView).enabled=!0}).start()}this.count++}this.count==this.ShowNode.length&&this.detectionerr()}else this.detectionerr()}else this.node.parent.parent.parent.getComponent(cc.ScrollView).enabled=!0,this.node.opacity=255,this.level.icon.active=!1},i([l(cc.Node)],t.prototype,"levelparent",void 0),i([l(cc.Node)],t.prototype,"rect",void 0),i([l],t.prototype,"icon_name",void 0),i([l([cc.Node])],t.prototype,"ShowNode",void 0),i([l],t.prototype,"index",void 0),i([a],t)}(cc.Component);o.default=d,cc._RF.pop()},{Level_106:"Level_106"}],Level_106_guide:[function(e,t,o){"use strict";cc._RF.push(t,"de8b9PYyN1BdoeAKauIQtwf","Level_106_guide");var n=__extends,i=__decorate;Object.defineProperty(o,"__esModule",{value:!0});var c=cc._decorator,r=c.ccclass,a=c.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.startPos=null,t.endPos=null,t.finger=null,t}return n(t,e),t.prototype.onLoad=function(){this.finger=this.node.getChildByName("finger"),this.node.parent.on(cc.Node.EventType.TOUCH_START,this.close,this)},t.prototype.start=function(){var e=this;this.finger.setPosition(this.startPos);var t=this.endPos.sub(this.startPos).mag()/600,o=cc.tween(this.finger).delay(.1).to(t,{position:cc.v3(this.endPos.x,this.endPos.y)}).delay(.1).call(function(){e.finger.setPosition(e.startPos),o.start()});o.start()},t.prototype.close=function(){this.node.destroy()},i([a(cc.Vec2)],t.prototype,"startPos",void 0),i([a(cc.Vec2)],t.prototype,"endPos",void 0),i([r],t)}(cc.Component);o.default=l,cc._RF.pop()},{}],Level_106:[function(e,t,o){"use strict";cc._RF.push(t,"f8831Kgie1KZbJQ/QUl64br","Level_106");var n=__extends,i=__decorate;Object.defineProperty(o,"__esModule",{value:!0});var c=e("LevelCtrl_CommonResult"),r=e("AudioManager"),a=e("Level_106_Icon"),l=cc._decorator,d=l.ccclass,s=l.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.icon=null,t.content=null,t.xian=null,t.plan=0,t.audiodata=[],t.dialogdata=[],t.dialog=null,t.level=1,t}return n(t,e),t.prototype.start=function(){for(var e=this,t=0;t<this.content.childrenCount;t++)this.content.children[t].getComponent(a.default).init(t);this.scheduleOnce(function(){e.showdialog(0)},1)},t.prototype.onEnable=function(){this.scheduleOnce(function(){window.AudioMag.stopBgm(),window.AudioMag.playBGM("lv_106/1/lv106_1_bgm")})},t.prototype.onDisable=function(){window.AudioMag.stopBgm(),cc.audioEngine.stopAllEffects(),setTimeout(function(){r.default.playMusic(r.default.audioName.BACKGROUND)},0)},t.prototype.VerifyCompletion=function(){var e=this;this.plan==this.content.childrenCount&&this.scheduleOnce(function(){e.node.getComponent(c.default).onGameSucc()},4)},t.prototype.showdialog=function(e){this.dialogdata.length<=0||(this.unschedule(this.ActiveDialog),cc.audioEngine.pauseAllEffects(),0!=e&&window.AudioMag.playSound("lv_106/lv_106_f"),window.AudioMag.playSound("lv_106/"+this.level+"/"+this.audiodata[e]),this.dialog.active=!0,this.dialog.getChildByName("type_1").children[0].getComponent(cc.Label).string=this.dialogdata[e],this.scheduleOnce(this.ActiveDialog,4))},t.prototype.ActiveDialog=function(){this.dialog.active=!1},t.prototype.update=function(){},i([s(cc.Node)],t.prototype,"icon",void 0),i([s(cc.Node)],t.prototype,"content",void 0),i([s(cc.Node)],t.prototype,"xian",void 0),i([s([cc.String])],t.prototype,"audiodata",void 0),i([s([cc.String])],t.prototype,"dialogdata",void 0),i([s(cc.Node)],t.prototype,"dialog",void 0),i([s(cc.Float)],t.prototype,"level",void 0),i([d],t)}(cc.Component);o.default=p,cc._RF.pop()},{AudioManager:void 0,LevelCtrl_CommonResult:void 0,Level_106_Icon:"Level_106_Icon"}]},{},["Level_106_4","Level_106","Level_106_Icon","Level_106_guide"]);