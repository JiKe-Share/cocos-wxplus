window.__require=function t(o,e,i){function n(c,r){if(!e[c]){if(!o[c]){var a=c.split("/");if(a=a[a.length-1],!o[a]){var h="function"==typeof __require&&__require;if(!r&&h)return h(a,!0);if(s)return s(a,!0);throw new Error("Cannot find module '"+c+"'")}c=a}var d=e[c]={exports:{}};o[c][0].call(d.exports,function(t){return n(o[c][1][t]||t)},d,d.exports,t,o,e,i)}return e[c].exports}for(var s="function"==typeof __require&&__require,c=0;c<i.length;c++)n(i[c]);return n}({Ani_PosiShow_501_4:[function(t,o,e){"use strict";cc._RF.push(o,"9bdbfw+uYVJjazwvetxYqQz","Ani_PosiShow_501_4");var i=__extends,n=__decorate;Object.defineProperty(e,"__esModule",{value:!0});var s=cc._decorator,c=s.ccclass,r=s.property,a=function(t){function o(){var o=null!==t&&t.apply(this,arguments)||this;return o.startPosi=cc.Vec2.ZERO,o.endPosi=cc.Vec2.ZERO,o._moveSpeed=200,o.delayTime=0,o.time=0,o}return i(o,t),Object.defineProperty(o.prototype,"moveSpeed",{get:function(){return this._moveSpeed},set:function(t){this._moveSpeed=t;var o=this.endPosi.sub(this.startPosi).mag()/this._moveSpeed;this.time=o},enumerable:!1,configurable:!0}),o.prototype.onEnable=function(){cc.Tween.stopAllByTarget(this.node),this.node.setPosition(this.startPosi);var t=this.endPosi.sub(this.startPosi).mag()/this._moveSpeed;cc.tween(this.node).delay(this.delayTime).to(t,{x:this.endPosi.x,y:this.endPosi.y}).start(),this.node.on("DX_ONRESET",this.onReset,this)},o.prototype.onDisable=function(){this.node.off("DX_ONRESET",this.onReset,this)},o.prototype.onHide=function(t){cc.Tween.stopAllByTarget(this.node),this.node.setPosition(this.endPosi);var o=this.endPosi.sub(this.startPosi).mag()/this._moveSpeed;cc.tween(this.node).to(o,{x:this.startPosi.x,y:this.startPosi.y}).call(function(){t&&t()}).start()},o.prototype.onReset=function(){cc.tween(this.node).to(1,{x:this.endPosi.x,y:this.endPosi.y}).start()},n([r(cc.Vec2)],o.prototype,"startPosi",void 0),n([r(cc.Vec2)],o.prototype,"endPosi",void 0),n([r(cc.Float)],o.prototype,"_moveSpeed",void 0),n([r(cc.Float)],o.prototype,"delayTime",void 0),n([r(cc.Float)],o.prototype,"moveSpeed",null),n([r(cc.Float)],o.prototype,"time",void 0),n([c],o)}(cc.Component);e.default=a,cc._RF.pop()},{}],lv_501_4_task1:[function(t,o,e){"use strict";cc._RF.push(o,"c660cyoafhMurb7HMJlqmSH","lv_501_4_task1");var i=__extends,n=__decorate;Object.defineProperty(e,"__esModule",{value:!0});var s=cc._decorator,c=s.ccclass,r=s.property,a=function(t){function o(){var o=null!==t&&t.apply(this,arguments)||this;return o.isCanCtrl=!0,o.niantu=null,o.isTouching=!1,o.statecount=0,o.guide=null,o.niantusp=[],o}return i(o,t),o.prototype.start=function(){},o.prototype.onEnable=function(){this.addEvent()},o.prototype.addEvent=function(){var t=this.niantu;t.on(cc.Node.EventType.TOUCH_START,this.onTouch_start,this),t.on(cc.Node.EventType.TOUCH_CANCEL,this.onTouch_end,this),t.on(cc.Node.EventType.TOUCH_END,this.onTouch_end,this)},o.prototype.onDisable=function(){this.removeEvent()},o.prototype.onTouch_start=function(){this.isTouching=!0,this.guide.active=!1},o.prototype.onCompOne=function(){var t=this;cc.tween(this.niantu).to(1,{opacity:0}).call(function(){t.node.dispatchEvent(new cc.Event.EventCustom("DX_CLEAN_COMPONE",!0))}).start()},o.prototype.onTouch_end=function(){this.isTouching&&(this.isTouching=!1,this.niantu.getComponent(cc.Sprite).spriteFrame=this.niantusp[this.statecount],this.statecount++,this.statecount>=2&&this.onCompOne())},o.prototype.removeEvent=function(){var t=this.niantu;t.off(cc.Node.EventType.TOUCH_START,this.onTouch_start,this),t.off(cc.Node.EventType.TOUCH_CANCEL,this.onTouch_end,this),t.off(cc.Node.EventType.TOUCH_END,this.onTouch_end,this)},n([r(cc.Node)],o.prototype,"niantu",void 0),n([r(cc.Node)],o.prototype,"guide",void 0),n([r([cc.SpriteFrame])],o.prototype,"niantusp",void 0),n([c],o)}(cc.Component);e.default=a,cc._RF.pop()},{}],lv_501_4_task2:[function(t,o,e){"use strict";cc._RF.push(o,"a6889QqBoRKJqdqPLW2phGc","lv_501_4_task2");var i=__extends,n=__decorate;Object.defineProperty(e,"__esModule",{value:!0});var s=cc._decorator,c=s.ccclass,r=s.property,a=function(t){function o(){var o=null!==t&&t.apply(this,arguments)||this;return o.tool=null,o.delayTime=0,o.isWorking=!1,o.isCanCtrl=!1,o.isTouching=!1,o.isPlayingAni=!1,o.sizeNode=null,o.targetobject=null,o.toolWorkingAngle=0,o.nitu=null,o.nitu2=null,o.drop=null,o.task=0,o}return i(o,t),o.prototype.start=function(){this.scheduleOnce(this.addEvent,this.delayTime),5==this.task?(this.nitu.active=!1,this.nitu2.active=!1,this.drop.active=!1,this.drop.y=400):this.nitu.active=!1},o.prototype.addEvent=function(){var t=this.tool.getChildByName("core").getChildByName("touchNode");t.on(cc.Node.EventType.TOUCH_START,this.onTouch_start,this),t.on(cc.Node.EventType.TOUCH_MOVE,this.onTouch_move,this),t.on(cc.Node.EventType.TOUCH_CANCEL,this.onTouch_end,this),t.on(cc.Node.EventType.TOUCH_END,this.onTouch_end,this)},o.prototype.onTouch_start=function(){this.isPlayingAni||(this.isTouching=!0,this.tool.angle=this.toolWorkingAngle)},o.prototype.onTouch_move=function(t){if(!this.isPlayingAni&&this.isTouching){var o=t.getDelta().x/this.sizeNode.scaleX,e=t.getDelta().y/this.sizeNode.scaleY;this.tool.setPosition(this.tool.getPosition().add(cc.v2(o,e)));var i=this.tool.getChildByName("core").getChildByName("touchNode").convertToWorldSpaceAR(cc.Vec2.ZERO);this.isWorking||this.targetobject.getBoundingBoxToWorld().contains(i)&&(this.tool.active=!1,5==this.task?this.dropanim():(this.nitu.active=!0,this.onCompOne(),this.isWorking=!0))}},o.prototype.dropanim=function(){var t=this;this.drop.active=!0,cc.tween(this.drop).to(1,{y:0}).call(function(){t.onCompOne(),t.drop.active=!1,t.nitu.active=!0,t.nitu2.active=!0}).start()},o.prototype.onCompOne=function(){var t=this;cc.tween(this.tool).to(1,{opacity:0}).call(function(){t.node.dispatchEvent(new cc.Event.EventCustom("DX_CLEAN_COMPONE",!0))}).start()},o.prototype.onTouch_end=function(){this.isTouching&&(this.isTouching=!1)},n([r(cc.Node)],o.prototype,"tool",void 0),n([r(cc.Float)],o.prototype,"delayTime",void 0),n([r(cc.Node)],o.prototype,"sizeNode",void 0),n([r(cc.Node)],o.prototype,"targetobject",void 0),n([r(cc.Float)],o.prototype,"toolWorkingAngle",void 0),n([r(cc.Node)],o.prototype,"nitu",void 0),n([r(cc.Node)],o.prototype,"nitu2",void 0),n([r(cc.Node)],o.prototype,"drop",void 0),n([r(cc.Float)],o.prototype,"task",void 0),n([c],o)}(cc.Component);e.default=a,cc._RF.pop()},{}],lv_501_4:[function(t,o,e){"use strict";cc._RF.push(o,"812b9I4uMFKib+zBlgrUxmr","lv_501_4");var i=__extends,n=__decorate;Object.defineProperty(e,"__esModule",{value:!0});var s=t("Game"),c=t("AudioManager"),r=cc._decorator,a=r.ccclass,h=r.property,d=function(t){function o(){var o=null!==t&&t.apply(this,arguments)||this;return o.taskArr=[],o.titleArr=["\u6b65\u9aa4\u540d\u79f0-1","\u6b65\u9aa4\u540d\u79f0-2"],o.progressBar=null,o.lbl_tile=null,o.node_dd1=null,o.node_dd=null,o.node_xx=null,o.node_ef_stars=null,o.node_succ=null,o.node_splash=null,o.totalProgress=0,o.currProgress=0,o}return i(o,t),o.prototype.onLoad=function(){this.progressBar=this.node.getChildByName("progressBar").getComponent(cc.ProgressBar),this.lbl_tile=this.node.getChildByName("lbl_title").getComponent(cc.Label),this.node_dd=this.node.getChildByName("dd"),this.node_dd1=this.node.getChildByName("dd1"),this.node_xx=this.node.getChildByName("xx"),this.node_ef_stars=this.node.getChildByName("ef_stars"),this.node_succ=this.node.getChildByName("succ"),this.node_splash=this.node.getChildByName("splash"),this.node_dd.active=!1,null!=this.node_xx&&(this.node_xx.active=!1),this.node_ef_stars.active=!1,this.node_succ.active=!1,this.totalProgress=this.taskArr.length,this.currProgress=0,this.refreshTask(),window.Level_501=this},o.prototype.start=function(){var t=this;this.node.on("DX_CLEAN_SPLASH",this.showSplash,this),this.node.on("DX_CLEAN_COMPONE",this.onAddProgress,this),this.node.on("DX_CLEAN_PROGRESSBAR",this.onRefreshProgressBar,this),this.node.on("DX_XX",this.onShowXX,this),this.node.on("DX_dd",this.onShowDD,this),cc.sys.isBrowser&&cc.systemEvent.on(cc.SystemEvent.EventType.KEY_UP,function(o){o.keyCode==cc.macro.KEY.space&&t.onAddProgress(null)},this)},o.prototype.task8onCompOne=function(){},o.prototype.onDestroy=function(){this.node.off("DX_CLEAN_SPLASH",this.showSplash,this),this.node.off("DX_CLEAN_COMPONE",this.onAddProgress,this),this.node.off("DX_CLEAN_PROGRESSBAR",this.onRefreshProgressBar,this),this.node.off("DX_XX",this.onShowXX,this),this.node.on("DX_dd",this.onShowDD,this)},o.prototype.showSplash=function(t){null!=t&&t.stopPropagation(),cc.Tween.stopAllByTarget(this.node_splash),this.node_splash.opacity=255,cc.tween(this.node_splash).to(1,{opacity:0},{easing:"fade"}).start()},o.prototype.onAddProgress=function(t){null!=t&&t.stopPropagation(),c.default.playEffect(c.default.audioName.FINDWORD_SUCCESS),this.currProgress+=1,this.refreshTask(),this.currProgress>=this.totalProgress&&this.onGameSucc()},o.prototype.onRefreshProgressBar=function(t){var o=t.getUserData();null!=t&&t.stopPropagation(),this.progressBar.progress=o,this.progressBar.node.opacity=255},o.prototype.refreshTask=function(){for(var t=0;t<this.totalProgress;t++)this.taskArr[t].active=t==this.currProgress;this.lbl_tile.string=this.titleArr[this.currProgress],this.progressBar.node.opacity=0},o.prototype.onGameSucc=function(){var t=this;this.showSplash(null),this.lbl_tile.string="",this.node_succ.active=!0,this.node_ef_stars.active=!0,this.scheduleOnce(function(){t.node_dd.active=!0,t.scheduleOnce(function(){t.node_dd.active=!1},.5),cc.find("Canvas/game").getComponent(s.default).answerCrrect({position:cc.Vec2.ZERO,show:!0})},3)},o.prototype.onShowXX=function(t){if(null!=this.node_xx){var o=cc.Vec2.ZERO;if(null!=t){var e=t.getUserData();o=this.node_xx.parent.convertToNodeSpaceAR(e),t.stopPropagation()}this.node_xx.active=!0,this.node_xx.scale=0,this.node_xx.setPosition(o),cc.tween(this.node_xx).to(.6,{scale:1.1}).to(.1,{scale:1}).delay(.5).to(.2,{scale:0}).start()}},o.prototype.onShowDD=function(t){null!=this.node_dd1&&(cc.Vec2.ZERO,0==t?this.node_dd1.setPosition(cc.v3(-300,-500)):this.node_dd1.setPosition(cc.v3(300,-500)),this.node_dd1.active=!0,this.node_dd1.scale=0,cc.tween(this.node_dd1).to(.6,{scale:1.1}).to(.1,{scale:1}).delay(.5).to(.2,{scale:0}).start())},o.prototype.rectToPoints=function(t,o,e,i){return t.x>o.x-e&&t.x<o.x+e&&t.y>o.y-i&&t.y<o.y+i},o.containsPoint=function(t,o,e){for(var i=e.length,n=0,s=0;s<i;++s){var c=e[s].x,r=e[s].y,a=e[(s+1)%i].x,h=e[(s+1)%i].y;r!=h&&(o<Math.min(r,h)||o>=Math.max(r,h)||(o-r)*(a-c)/(h-r)+c>t&&n++)}return n%2==1},n([h([cc.Node])],o.prototype,"taskArr",void 0),n([h([cc.String])],o.prototype,"titleArr",void 0),n([a],o)}(cc.Component);e.default=d,cc._RF.pop()},{AudioManager:void 0,Game:void 0}]},{},["lv_501_4","Ani_PosiShow_501_4","lv_501_4_task1","lv_501_4_task2"]);