window.__require=function e(t,c,s){function o(i,r){if(!c[i]){if(!t[i]){var a=i.split("/");if(a=a[a.length-1],!t[a]){var h="function"==typeof __require&&__require;if(!r&&h)return h(a,!0);if(n)return n(a,!0);throw new Error("Cannot find module '"+i+"'")}i=a}var l=c[i]={exports:{}};t[i][0].call(l.exports,function(e){return o(t[i][1][e]||e)},l,l.exports,e,t,c,s)}return c[i].exports}for(var n="function"==typeof __require&&__require,i=0;i<s.length;i++)o(s[i]);return o}({LC_13_12:[function(e,t,c){"use strict";cc._RF.push(t,"c7d7eutvcdDu76i6v2LMF2n","LC_13_12");var s=__extends,o=__decorate;Object.defineProperty(c,"__esModule",{value:!0});var n=e("Game"),i=e("AudioManager"),r=cc._decorator,a=r.ccclass,h=r.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.process=[],t.title=[],t.clean=null,t.cleanRect=null,t.cleanMask=null,t.clean_bar=null,t.sizenode=null,t.title_lable=null,t.currect=null,t.successEffectNode=null,t.currpro=0,t.startposX=0,t.startposY=-600,t.currnum=0,t.cleanpos=[],t.cleamposnum=0,t.titlelable=["\u6b65\u9aa41\uff1a\u7528\u6c34\u51b2\u6d17","\u6b65\u9aa42\uff1a\u64e6\u5e72\u51c0","\u6b65\u9aa43\uff1a\u6324\u4e0a\u6ce1\u6cab\u5237\u4e00\u904d","\u6b65\u9aa44\uff1a\u7528\u5c0f\u5200\u522e\u53bb\u6bdb\u6bdb","\u6b65\u9aa45\uff1a\u7528\u7535\u52a8\u7802\u8f6e\u6253\u78e8\u6307\u7532\u989c\u8272","\u6b65\u9aa46\uff1a\u7528\u5c0f\u5200\u628a\u6307\u7532\u522e\u6389","\u6b65\u9aa47\uff1a\u7528\u68c9\u7b7e\u5904\u7406\u4e0b\u811a\u6307\u7532\u7684\u6d53\u6c34","\u6b65\u9aa48\uff1a\u6307\u7532\u526a\u526a\u6389\u811a\u6307\u7532","\u6b65\u9aa49\uff1a\u53bb\u9664\u811a\u6307\u7532\u5185\u7684\u6c61\u57a2","\u6b65\u9aa410\uff1a\u7ed9\u53d7\u4f24\u7684\u6307\u7532\u55b7\u4e0a\u62a4\u7406\u6db2","\u6b65\u9aa411\uff1a\u56fe\u4e0a\u6307\u7532\u6cb9"],t.isrect=!0,t.car_time3=3,t.localtime=0,t}var c;return s(t,e),c=t,t.prototype.onLoad=function(){this.updateTask(),this.titlelable=this.title},t.containsPoint=function(e,t,c){for(var s=c.length,o=0,n=0;n<s;++n){var i=c[n].x,r=c[n].y,a=c[(n+1)%s].x,h=c[(n+1)%s].y;r!=h&&(t<Math.min(r,h)||t>=Math.max(r,h)||(t-r)*(a-i)/(h-r)+i>e&&o++)}return o%2==1},t.prototype.start=function(){this.UpProcess()},t.prototype.CleanTouchStart=function(){},t.prototype.CleanTouchMove=function(e){this.clean.x+=e.getDeltaX()/this.sizenode.scaleX,this.clean.y+=e.getDeltaY()/this.sizenode.scaleY;var t=this.clean.x+this.cleanRect.x,c=this.clean.y+this.cleanRect.y;this._addCircle(cc.v2(t,c),this.cleanRect.width,this.cleanRect.height,this.cleanMask),this.clean.children[0].active=!0;for(var s=0;s<this.cleanpos.length;s++)if(this.cleanpos[s]){var o=this.clean.x+this.cleanRect.x,n=this.clean.y+this.cleanRect.y;this.rectToPoints(this.cleanpos[s],cc.v2(o,n),this.cleanRect.width,this.cleanRect.height)&&(this.cleamposnum+=1,this.cleanpos[s]=null,this.cleamposnum>this.cleanpos.length/10*9?this.clean_bar.getComponent(cc.ProgressBar).progress=1:this.clean_bar.getComponent(cc.ProgressBar).progress=this.cleamposnum/(this.cleanpos.length/10*9))}},t.prototype.CleanTouchEnd=function(){cc.audioEngine.stopAllEffects(),this.clean.x=this.startposX,this.clean.y=this.startposY,this.clean.children[0].active=!1,this.cleamposnum>this.cleanpos.length/10*9&&(i.default.playEffect(i.default.audioName.FINDWORD_SUCCESS),this.currpro++,this.updateTask(),this.UpProcess(),this.CleanOff())},t.prototype.CleanOff=function(){var e=this;this.currect.active=!0,this.scheduleOnce(function(){e.currect.active=!1},.5)},t.prototype.updateTask=function(){if(this.currpro>=this.process.length)this.clean.active=!1;else{this.clean_bar.getComponent(cc.ProgressBar).progress=0,this.clean=this.process[this.currpro].getChildByName("gongju"),this.startposY=this.clean.y,this.cleanRect=this.clean.children[1],this.clean.on(cc.Node.EventType.TOUCH_START,this.CleanTouchStart,this),this.clean.on(cc.Node.EventType.TOUCH_MOVE,this.CleanTouchMove,this),this.clean.on(cc.Node.EventType.TOUCH_END,this.CleanTouchEnd,this),this.clean.zIndex=cc.macro.MAX_ZINDEX;var e=this.sizenode.width,t=this.sizenode.height;this.cleanpos=[],this.cleamposnum=0;for(var s=this.cleanRect.width/4,o=0;o<e/s;o++)for(var n=0;n<t/s;n++){var i=cc.v2(-e/2+s*o,t/2-s*n),r=this.process[this.currpro].getChildByName("mask").getComponent(cc.PolygonCollider).points;c.containsPoint(i.x,i.y,r)&&this.cleanpos.push(i)}}},t.prototype.UpProcess=function(){var e=this;if(this.currpro>=this.process.length){this.successEffectNode.active=!0,this.node.getChildByName("success")&&(this.node.getChildByName("success").active=!0);for(var t=function(){var t=50*s,o=s;c.scheduleOnce(function(){e.successEffectNode.children[o].active=!0},.001*t)},c=this,s=0;s<this.successEffectNode.childrenCount;s++)t();this.scheduleOnce(this.onGameSucc,2)}else{this.currnum=0;for(var o=0;o<this.process.length;o++)o==this.currpro?(this.process[o].active=!0,this.currnum=o,this.cleanMask=this.process[this.currnum].getChildByName("mask"),cc.tween(this.process[o].getChildByName("gongju")).to(1,{position:cc.v3(0,this.process[o].getChildByName("gongju").y)}).start()):this.process[o].active=!1;this.title_lable&&(this.title_lable.getComponent(cc.Label).string=this.titlelable[this.currpro])}},t.prototype.onGameSucc=function(){cc.find("Canvas/game").getComponent(n.default).answerCrrect({position:cc.Vec2.ZERO,show:!0})},t.prototype._addCircle=function(e,t,c,s){var o=s.getComponent(cc.Mask)._graphics,n=cc.color(0,0,0,255);o.circle(e.x,e.y,t),o.lineWidth=2,o.fillColor=n,o.fill()},t.prototype.rectToPoints=function(e,t,c,s){return e.x>t.x-c&&e.x<t.x+c&&e.y>t.y-s&&e.y<t.y+s},o([h([cc.Node])],t.prototype,"process",void 0),o([h([cc.String])],t.prototype,"title",void 0),o([h(cc.Node)],t.prototype,"clean_bar",void 0),o([h(cc.Node)],t.prototype,"sizenode",void 0),o([h(cc.Node)],t.prototype,"title_lable",void 0),o([h(cc.Node)],t.prototype,"currect",void 0),o([h(cc.Node)],t.prototype,"successEffectNode",void 0),c=o([a],t)}(cc.Component);c.default=l,cc._RF.pop()},{AudioManager:void 0,Game:void 0}],ddlayer:[function(e,t,c){"use strict";cc._RF.push(t,"5c706h2k2FOza7JTFb13SQO","ddlayer");var s=__extends,o=__decorate;Object.defineProperty(c,"__esModule",{value:!0});var n=e("LC_13_12"),i=cc._decorator,r=i.ccclass,a=i.property,h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.shear=null,t.nail=null,t.shearRect=null,t.spf=null,t.cleanNode=null,t.clean=null,t.hastouchnode={},t.curnum=0,t}return s(t,e),t.prototype.start=function(){this.shear.on(cc.Node.EventType.TOUCH_MOVE,this.ShearTouchMove,this),this.shear.on(cc.Node.EventType.TOUCH_END,this.CleanTouchEnd,this),this.clean=this.cleanNode.getComponent(n.default)},t.prototype.ShearTouchMove=function(){for(var e=this,t=this,c=this.shear.x+this.shearRect.x,s=this.shear.y+this.shearRect.y,o=0;o<this.nail.childrenCount;o++)if(null==this.hastouchnode[o]&&this.rectToPoints(this.nail.children[o].position,cc.v2(c,s),this.shearRect.width,this.shearRect.height))return this.hastouchnode[o]=1,this.curnum++,t.nail.children[o].children[0].active=!0,this.scheduleOnce(function(){t.nail.children[o].children[0].active=!1,t.nail.children[o].getComponent(cc.Sprite).spriteFrame=e.spf},1),void(this.clean.clean_bar.getComponent(cc.ProgressBar).progress=this.curnum/this.node.children.length)},t.prototype.CleanTouchEnd=function(){7==this.curnum&&(this.clean.cleamposnum=this.clean.cleanpos.length,this.clean.CleanTouchEnd())},t.prototype.rectToPoints=function(e,t,c,s){return e.x>t.x-c&&e.x<t.x+c&&e.y>t.y-s&&e.y<t.y+s},o([a(cc.Node)],t.prototype,"shear",void 0),o([a(cc.Node)],t.prototype,"nail",void 0),o([a(cc.Node)],t.prototype,"shearRect",void 0),o([a(cc.SpriteFrame)],t.prototype,"spf",void 0),o([a(cc.Node)],t.prototype,"cleanNode",void 0),o([r],t)}(cc.Component);c.default=h,cc._RF.pop()},{LC_13_12:"LC_13_12"}]},{},["LC_13_12","ddlayer"]);