window.__require=function t(i,o,e){function c(s,a){if(!o[s]){if(!i[s]){var l=s.split("/");if(l=l[l.length-1],!i[l]){var h="function"==typeof __require&&__require;if(!a&&h)return h(l,!0);if(n)return n(l,!0);throw new Error("Cannot find module '"+s+"'")}s=l}var r=o[s]={exports:{}};i[s][0].call(r.exports,function(t){return c(i[s][1][t]||t)},r,r.exports,t,i,o,e)}return o[s].exports}for(var n="function"==typeof __require&&__require,s=0;s<e.length;s++)c(e[s]);return c}({Food_5:[function(t,i,o){"use strict";cc._RF.push(i,"093c1cGLPFMnanU2SilsWGw","Food_5");var e=__extends,c=__decorate;Object.defineProperty(o,"__esModule",{value:!0});var n=t("MathTool"),s=t("Game"),a=t("AudioManager"),l=cc._decorator,h=l.ccclass,r=l.property,u=function(t){function i(){var i=null!==t&&t.apply(this,arguments)||this;return i.taskNode=null,i.eggsprite=null,i.titlelist=[],i.dd=null,i.successnum=1,i.localnum=0,i.plan=0,i}return e(i,t),i.prototype.onLoad=function(){this.dd=this.node.getChildByName("dd"),this.UpNode()},i.prototype.UpNode=function(){for(var t=0;t<this.taskNode.childrenCount;t++)t==this.plan?this.taskNode.children[t].active=!0:this.taskNode.children[t].active=!1;this.title=this.taskNode.children[this.plan].getChildByName("title"),this.title.getComponent(cc.Label).string=this.titlelist[this.plan],this.toolNode=this.taskNode.children[this.plan].getChildByName("tool"),this.tool=this.toolNode.getChildByName("tool"),this.mask=this.taskNode.children[this.plan].getChildByName("mask"),this.startpos=this.tool.position,this.tool.getChildByName("icon")&&(this.icon=this.tool.getChildByName("icon"),this.icon.active=!1),cc.tween(this.toolNode).to(.5,{position:cc.v3(0,0)}).start(),this.tool.on(cc.Node.EventType.TOUCH_START,this.TouchStart,this),this.tool.on(cc.Node.EventType.TOUCH_MOVE,this.TouchSMove,this),this.tool.on(cc.Node.EventType.TOUCH_END,this.TouchSEnd,this),this.tool.on(cc.Node.EventType.TOUCH_CANCEL,this.TouchSEnd,this)},i.prototype.TouchStart=function(){this.icon&&(this.icon.active=!0)},i.prototype.TouchSMove=function(t){var i=this.node.convertToNodeSpaceAR(t.getLocation());if(this.tool.x=i.x,this.tool.y=i.y,this.localnum!=this.successnum){var o=this.mask.children[0],e=cc.rect(o.x,o.y,o.width,o.height),c=cc.v2(i.x+this.tool.children[0].x,i.y+this.tool.children[0].y);n.default.rectPoint(c,e)&&(0==this.plan?this.Task1Func():this.plan<=2?this.Task2Func():3==this.plan?this.Task3Func():4==this.plan?this.Task4Func():5==this.plan?this.Task5Func():this.plan<=10?this.Task6Func():11==this.plan?this.Task7Func():this.plan<=17&&this.Task6Func())}},i.prototype.BtnOffClick=function(){this.tool.off(cc.Node.EventType.TOUCH_START,this.TouchStart,this),this.tool.off(cc.Node.EventType.TOUCH_MOVE,this.TouchSMove,this),this.tool.off(cc.Node.EventType.TOUCH_END,this.TouchSEnd,this),this.tool.off(cc.Node.EventType.TOUCH_CANCEL,this.TouchSEnd,this)},i.prototype.TouchSEnd=function(){this.tool.position=this.startpos,this.SuccessFunc()},i.prototype.SuccessFunc=function(){var t=this;this.icon&&(this.icon.active=!1),this.toolNode.getChildByName("tool_icon")&&(this.toolNode.getChildByName("tool_icon").active=!0),this.successnum==this.localnum&&(this.BtnOffClick(),this.plan+=1,this.localnum=0,cc.tween(this.toolNode).to(.5,{position:cc.v3(800,0)}).call(function(){t.plan==t.taskNode.childrenCount?t.GameWin():t.UpNode()}).start())},i.prototype.GameWin=function(){var t=this;a.default.playEffect(a.default.audioName.CRRECT),cc.tween(this.dd).to(1,{opacity:255,scale:1}).delay(.5).call(function(){t.dd.scale=0,cc.find("Canvas/game").getComponent(s.default).showResultLayer()}).start()},i.prototype.Task1Func=function(){var t=this,i=this.mask.children[0];this.toolNode.active=!1;var o=this.taskNode.children[this.plan].getChildByName("action"),e=this.taskNode.children[this.plan].getChildByName("action1");o.active=!0,cc.tween(o).to(1,{position:cc.v3(0,150)}).call(function(){o.active=!1,e.active=!0,cc.tween(i.children[0]).to(1,{scale:1}).call(function(){e.active=!1,t.localnum=1,t.successnum=1,t.SuccessFunc()}).start()}).start()},i.prototype.Task2Func=function(){var t=this,i=this.mask.children[0];this.toolNode.active=!1;var o=this.taskNode.children[this.plan].getChildByName("action");o.active=!0,cc.tween(i.children[0]).to(1,{scale:1}).call(function(){o.active=!1,t.localnum=1,t.successnum=1,t.SuccessFunc()}).start()},i.prototype.Task3Func=function(){var t=this,i=this.mask.children[0];this.toolNode.active=!1;var o=this.taskNode.children[this.plan].getChildByName("action");o.active=!0,cc.tween(o.children[0]).to(.3,{position:cc.v3(-160,3.775),scale:.5}).call(function(){o.active=!1,cc.tween(i.children[0]).to(.5,{scale:1}).delay(1).call(function(){i.children[0].getComponent(cc.Sprite).spriteFrame=t.eggsprite,o.active=!1,t.localnum=1,t.successnum=1,t.SuccessFunc()}).start()}).start()},i.prototype.Task4Func=function(){var t=this;this.toolNode.active=!1;var i=this.taskNode.children[this.plan].getChildByName("action");i.active=!0,cc.tween(i).to(1,{position:cc.v3(180,0)}).call(function(){i.children[0].active=!0,t.taskNode.children[t.plan].getChildByName("egg").active=!1}).delay(.3).to(1,{position:cc.v3(600,0)}).call(function(){i.active=!1,t.localnum=1,t.successnum=1,t.SuccessFunc()}).start()},i.prototype.Task5Func=function(){var t=this,i=this.mask.children[0];this.tool.active=!1,cc.tween(i.children[0]).to(.5,{scale:.7}).delay(1).to(.5,{scale:1}).call(function(){t.localnum=1,t.successnum=1,t.SuccessFunc()}).start()},i.prototype.Task6Func=function(){var t=this,i=this.mask.children[0];this.tool.active=!1,i.children[0].opacity=100,cc.tween(i.children[0]).to(1,{opacity:255}).call(function(){t.localnum=1,t.successnum=1,t.SuccessFunc()}).start()},i.prototype.Task7Func=function(){var t=this,i=this.mask.children[0];this.tool.active=!1,i.children[0].opacity=100,cc.tween(i.children[0]).to(1,{opacity:255}).delay(1).call(function(){t.taskNode.children[t.plan].getChildByName("action").active=!0}).delay(1).call(function(){t.localnum=1,t.successnum=1,t.SuccessFunc()}).start()},i.prototype.update=function(){},c([r(cc.Node)],i.prototype,"taskNode",void 0),c([r(cc.SpriteFrame)],i.prototype,"eggsprite",void 0),c([r([cc.String])],i.prototype,"titlelist",void 0),c([h],i)}(cc.Component);o.default=u,cc._RF.pop()},{AudioManager:void 0,Game:void 0,MathTool:void 0}]},{},["Food_5"]);