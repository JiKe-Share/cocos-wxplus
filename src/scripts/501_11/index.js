window.__require=function t(o,e,i){function n(c,r){if(!e[c]){if(!o[c]){var a=c.split("/");if(a=a[a.length-1],!o[a]){var h="function"==typeof __require&&__require;if(!r&&h)return h(a,!0);if(s)return s(a,!0);throw new Error("Cannot find module '"+c+"'")}c=a}var l=e[c]={exports:{}};o[c][0].call(l.exports,function(t){return n(o[c][1][t]||t)},l,l.exports,t,o,e,i)}return e[c].exports}for(var s="function"==typeof __require&&__require,c=0;c<i.length;c++)n(i[c]);return n}({lv_501_11_Action:[function(t,o,e){"use strict";cc._RF.push(o,"107a2sx2dxCTKctAGthK4xS","lv_501_11_Action");var i=__extends,n=__decorate;Object.defineProperty(e,"__esModule",{value:!0});var s=t("AudioManager"),c=t("lv_501_11_task6"),r=cc._decorator,a=r.ccclass,h=r.property,l=function(t){function o(){var o=null!==t&&t.apply(this,arguments)||this;return o.parentNode=null,o.id=0,o.isover=!1,o.level=null,o}return i(o,t),o.prototype.onLoad=function(){var t=this;this.level=this.parentNode.getComponent(c.default),this.node.opacity=0,s.default.playEffect("lv501_11_2"),this.scheduleOnce(function(){t.node&&(t.node.opacity=255,t.isover&&(t.level.init(),cc.audioEngine.stopAllEffects()))},.2*this.id)},o.prototype.update=function(){},n([h(cc.Node)],o.prototype,"parentNode",void 0),n([h],o.prototype,"id",void 0),n([h],o.prototype,"isover",void 0),n([a],o)}(cc.Component);e.default=l,cc._RF.pop()},{AudioManager:void 0,lv_501_11_task6:"lv_501_11_task6"}],lv_501_11_gudie_move:[function(t,o,e){"use strict";cc._RF.push(o,"258abkASRpOPL0uKzCP/EEy","lv_501_11_gudie_move");var i=__extends,n=__decorate;Object.defineProperty(e,"__esModule",{value:!0});var s=cc._decorator,c=s.ccclass,r=s.property,a=function(t){function o(){var o=null!==t&&t.apply(this,arguments)||this;return o.startPos=cc.v2(0,0),o.endPos=cc.v2(0,0),o.day=0,o}return i(o,t),o.prototype.start=function(){var t=this;this.node.active=!1,this.scheduleOnce(function(){t.node.active=!0,t.node.setPosition(t.startPos);var o=t.endPos.sub(t.startPos).mag()/600;t.node.parent.on(cc.Node.EventType.TOUCH_START,t.close,t),cc.tween(t.node).to(.2,{scale:1}).to(o,{position:cc.v3(t.endPos.x,t.endPos.y)}).to(.2,{scale:1.2}).delay(.2).to(o,{position:cc.v3(t.startPos.x,t.startPos.y)}).union().repeatForever().start()},this.day)},o.prototype.close=function(){this.node.destroy()},n([r(cc.Vec2)],o.prototype,"startPos",void 0),n([r(cc.Vec2)],o.prototype,"endPos",void 0),n([r(cc.Float)],o.prototype,"day",void 0),n([c],o)}(cc.Component);e.default=a,cc._RF.pop()},{}],lv_501_11_moveForever:[function(t,o,e){"use strict";cc._RF.push(o,"affffnQAuNEKb6HUgefgMgA","lv_501_11_moveForever");var i=__extends,n=__decorate;Object.defineProperty(e,"__esModule",{value:!0});var s=cc._decorator,c=s.ccclass,r=s.property,a=function(t){function o(){var o=null!==t&&t.apply(this,arguments)||this;return o.time=.5,o.startx=1.2,o.starty=1.2,o.endx=1,o.endy=1.2,o}return i(o,t),o.prototype.MoveBeign=function(){var t=this;this.node.x=this.startx,this.node.y=this.starty,cc.tween(this.node).to(this.time,{position:cc.v3(this.endx,this.endy,0)}).call(function(){t.MoveBeign()}).start()},o.prototype.scaleEnd=function(){this.node.stopAllActions()},o.prototype.start=function(){this.MoveBeign()},o.prototype.onDestroy=function(){this.node.stopAllActions()},n([r],o.prototype,"time",void 0),n([r],o.prototype,"startx",void 0),n([r],o.prototype,"starty",void 0),n([r],o.prototype,"endx",void 0),n([r],o.prototype,"endy",void 0),n([c],o)}(cc.Component);e.default=a,cc._RF.pop()},{}],lv_501_11_task1:[function(t,o,e){"use strict";cc._RF.push(o,"2651fEuBCZN/YIw2zpCYfhY","lv_501_11_task1");var i=__extends,n=__decorate;Object.defineProperty(e,"__esModule",{value:!0});var s=t("AudioManager"),c=cc._decorator,r=c.ccclass,a=c.property,h=function(t){function o(){var o=null!==t&&t.apply(this,arguments)||this;return o.sizeNode=null,o.tool=null,o.delayTime=0,o.isworking=!1,o.target=null,o.anim=null,o.lv=0,o.guide=null,o.isTouching=!1,o}return i(o,t),o.prototype.start=function(){this.scheduleOnce(this.addEvent,this.delayTime),this.initData()},o.prototype.addEvent=function(){var t=this;this.guide&&this.scheduleOnce(function(){t.guide.active=!0},1);var o=this.tool.getChildByName("core").getChildByName("touchNode");o.on(cc.Node.EventType.TOUCH_START,this.onTouch_start,this),o.on(cc.Node.EventType.TOUCH_MOVE,this.onTouch_move,this),o.on(cc.Node.EventType.TOUCH_CANCEL,this.onTouch_end,this),o.on(cc.Node.EventType.TOUCH_END,this.onTouch_end,this)},o.prototype.removeEvent=function(){var t=this.tool.getChildByName("core").getChildByName("touchNode");t.off(cc.Node.EventType.TOUCH_START,this.onTouch_start,this),t.off(cc.Node.EventType.TOUCH_MOVE,this.onTouch_move,this),t.off(cc.Node.EventType.TOUCH_CANCEL,this.onTouch_end,this),t.off(cc.Node.EventType.TOUCH_END,this.onTouch_end,this)},o.prototype.onTouch_start=function(){this.isTouching=!0,this.tool.scale=1},o.prototype.onTouch_move=function(t){if(this.isTouching&&!this.isworking){var o=t.getDelta().x/this.sizeNode.scaleX,e=t.getDelta().y/this.sizeNode.scaleY;this.tool.setPosition(this.tool.getPosition().add(cc.v2(o,e))),this.rectrect(this.target,this.tool)&&(0==this.lv&&this.playinteraction(),5==this.lv&&this.playinteraction5())}},o.prototype.MoveAction=function(t,o,e,i){cc.tween(t).by(1.5,{position:cc.v3(o,e)}).call(function(){i()}).start()},o.prototype.rectrect=function(t,o,e){void 0===e&&(e=0);var i=cc.rect(-t.width/2,-t.height/2+e,t.width,t.height),n=cc.rect(o.x,o.y,o.width/2,o.height);return!!cc.Intersection.rectRect(n,i)},o.prototype.playinteraction5=function(){var t=this;this.isworking=!0,this.tool.active=!1;var o=this.node.getChildByName("j1"),e=this.node.getChildByName("j2");o.active=!0,e.active=!0,s.default.playEffect("lv501_11_1"),this.schedule(function(){t.MoveAction(e,800,0,function(){}),t.MoveAction(o,800,0,function(){}),t.MoveAction(t.target,800,0,function(){t.scheduleOnce(function(){t.node.dispatchEvent(new cc.Event.EventCustom("DX_CLEAN_COMPONE",!0))},1)})},.5)},o.prototype.playinteraction=function(){var t=this;this.isworking=!0,this.tool.active=!1;var o=this.node.getChildByName("s1"),e=this.node.getChildByName("s2");e.active=!0,s.default.playEffect("lv501_11_3"),cc.tween(o).by(.5,{x:-20}).call(function(){}).start(),cc.tween(e).by(.5,{x:20}).call(function(){cc.tween(t.target).to(.5,{scale:1.2}).call(function(){s.default.playEffect("lv501_11_4"),t.anim.getComponent(cc.Animation).play()}).to(1,{scale:.1}).call(function(){cc.tween(o).to(1,{opacity:0}).call(function(){}).start(),cc.tween(e).to(1,{opacity:0}).call(function(){t.scheduleOnce(function(){t.node.dispatchEvent(new cc.Event.EventCustom("DX_CLEAN_COMPONE",!0))},1)}).start()}).start()}).start()},o.prototype.onCompOne=function(){var t=this;cc.tween(this.tool).to(1,{opacity:0}).call(function(){t.node.dispatchEvent(new cc.Event.EventCustom("DX_CLEAN_COMPONE",!0))}).start()},o.prototype.onTouch_end=function(){this.isTouching&&(this.isTouching=!1,this.isworking||(this.tool.scale=.6))},o.prototype.initData=function(){this.addEvent()},n([a(cc.Node)],o.prototype,"sizeNode",void 0),n([a(cc.Node)],o.prototype,"tool",void 0),n([a(cc.Float)],o.prototype,"delayTime",void 0),n([a],o.prototype,"isworking",void 0),n([a(cc.Node)],o.prototype,"target",void 0),n([a(cc.Node)],o.prototype,"anim",void 0),n([a(cc.Float)],o.prototype,"lv",void 0),n([a(cc.Node)],o.prototype,"guide",void 0),n([r],o)}(cc.Component);e.default=h,cc._RF.pop()},{AudioManager:void 0}],lv_501_11_task2:[function(t,o,e){"use strict";cc._RF.push(o,"88ec47mEfhMDqjAVybzzw6Q","lv_501_11_task2");var i=__extends,n=__decorate;Object.defineProperty(e,"__esModule",{value:!0});var s=t("AudioManager"),c=cc._decorator,r=c.ccclass,a=c.property,h=function(t){function o(){var o=null!==t&&t.apply(this,arguments)||this;return o.sizeNode=null,o.tool=null,o.rect=null,o.toolWorkingAngle=0,o.toolWorkingscale=1,o.delayTime=0,o.audioNameKey="",o.mask=null,o.mask1=null,o.purgePosCount=0,o.isTouching=!1,o}return i(o,t),o.prototype.onLoad=function(){this.maskPolygon=this.mask.getComponent(cc.PolygonCollider).points},o.prototype.start=function(){var t=this;this.scheduleOnce(this.addEvent,this.delayTime),this.scheduleOnce(function(){t.refreshProgressBar(0)},0),this.initData()},o.prototype.addEvent=function(){var t=this.tool;t.on(cc.Node.EventType.TOUCH_START,this.onTouch_start,this),t.on(cc.Node.EventType.TOUCH_MOVE,this.onTouch_move,this),t.on(cc.Node.EventType.TOUCH_CANCEL,this.onTouch_end,this),t.on(cc.Node.EventType.TOUCH_END,this.onTouch_end,this)},o.prototype.removeEvent=function(){var t=this.tool;t.off(cc.Node.EventType.TOUCH_START,this.onTouch_start,this),t.off(cc.Node.EventType.TOUCH_MOVE,this.onTouch_move,this),t.off(cc.Node.EventType.TOUCH_CANCEL,this.onTouch_end,this),t.off(cc.Node.EventType.TOUCH_END,this.onTouch_end,this)},o.prototype.onTouch_start=function(){this.isTouching=!0,this.tool.angle=this.toolWorkingAngle,s.default.playEffect("lv501_11_9",!0)},o.prototype.onTouch_move=function(t){if(this.isTouching){this.tool.setPosition(this.tool.getPosition().add(t.getDelta().mul(.6666666666666666))),this.mask1&&this.updateMsk1();var o=cc.v2(this.tool.x+this.rect.x,this.tool.y+this.rect.y);this._addCircle(o);for(var e=this.tool.getBoundingBox(),i=0;i<this.cleanPos.length;i++)if(null!=this.cleanPos[i]&&e.contains(this.cleanPos[i])){this.purgePosCount+=1,this.cleanPos[i]=null;var n=this.purgePosCount/(this.cleanPos.length/10*9);n>1?this.refreshProgressBar(1):(this.refreshProgressBar(n),this.tool.emit("DX_TOOL_WORKING",n))}}},o.prototype.onTouch_end=function(){var t=this;this.isTouching&&(cc.audioEngine.stopAllEffects(),this.isTouching=!1,this.tool.emit("DX_TOOL_MOVE_END"),this.mask1&&(this.tool.y=-450,this.tool.x=0,this.updateMsk1()),""!=this.audioNameKey&&cc.audioEngine.stopAllEffects(),this.tool.scale=this.toolWorkingscale,this.purgePosCount>this.cleanPos.length/10*8)&&(this.rect.active=!1,this.removeEvent(),cc.tween(this.tool).to(1,{opacity:0}).call(function(){t.node.dispatchEvent(new cc.Event.EventCustom("DX_CLEAN_COMPONE",!0))}).start())},o.prototype.initData=function(){var t=this.sizeNode.width,o=this.sizeNode.height;this.cleanPos=[],this.purgePosCount=0;var e=this.tool.width/4;this.mask.getComponent(cc.PolygonCollider).offset.x,this.mask.getComponent(cc.PolygonCollider).offset.y;for(var i=0;i<t/e;i++)for(var n=0;n<o/e;n++){var s=cc.v2(-t/2+e*i,o/2-e*n);cc.Intersection.pointInPolygon(s,this.maskPolygon)&&this.cleanPos.push(s)}},o.prototype._addCircle=function(t){var o=this.mask.getComponent(cc.Mask)._graphics;o.fillColor=cc.Color.BLACK,o.circle(t.x,t.y,this.rect.height),o.fill()},o.prototype.updateMsk1=function(){var t=this.mask1.getComponent(cc.Mask)._graphics;t.clear(),t.fillColor=cc.Color.BLACK,t.rect(this.tool.x-this.rect.width/2,this.tool.y-this.rect.height/2,161,123),t.fill()},o.prototype.refreshProgressBar=function(t){var o=new cc.Event.EventCustom("DX_CLEAN_PROGRESSBAR",!0);o.setUserData(t),this.node.dispatchEvent(o)},n([a(cc.Node)],o.prototype,"sizeNode",void 0),n([a(cc.Node)],o.prototype,"tool",void 0),n([a(cc.Node)],o.prototype,"rect",void 0),n([a(cc.Float)],o.prototype,"toolWorkingAngle",void 0),n([a(cc.Float)],o.prototype,"toolWorkingscale",void 0),n([a(cc.Float)],o.prototype,"delayTime",void 0),n([a(cc.String)],o.prototype,"audioNameKey",void 0),n([a(cc.Node)],o.prototype,"mask",void 0),n([a(cc.Node)],o.prototype,"mask1",void 0),n([r],o)}(cc.Component);e.default=h,cc._RF.pop()},{AudioManager:void 0}],lv_501_11_task3:[function(t,o,e){"use strict";cc._RF.push(o,"4e4c5oo3m9Fs4jvjJ08ZKqV","lv_501_11_task3");var i=__extends,n=__decorate;Object.defineProperty(e,"__esModule",{value:!0});var s=t("AudioManager"),c=cc._decorator,r=c.ccclass,a=c.property,h=function(t){function o(){var o=null!==t&&t.apply(this,arguments)||this;return o.sizeNode=null,o.tool=null,o.rect=null,o.toolWorkingAngle=0,o.toolWorkingscale=1,o.delayTime=0,o.audioNameKey="",o.lv=0,o.mask=null,o.purgePosCount=0,o.isTouching=!1,o}return i(o,t),o.prototype.onLoad=function(){this.maskPolygon=this.mask.getComponent(cc.PolygonCollider).points},o.prototype.start=function(){var t=this;this.scheduleOnce(this.addEvent,this.delayTime),this.scheduleOnce(function(){t.refreshProgressBar(0)},0),this.initData()},o.prototype.addEvent=function(){var t=this.tool.getChildByName("core").getChildByName("touchNode");t.on(cc.Node.EventType.TOUCH_START,this.onTouch_start,this),t.on(cc.Node.EventType.TOUCH_MOVE,this.onTouch_move,this),t.on(cc.Node.EventType.TOUCH_CANCEL,this.onTouch_end,this),t.on(cc.Node.EventType.TOUCH_END,this.onTouch_end,this)},o.prototype.removeEvent=function(){var t=this.tool.getChildByName("core").getChildByName("touchNode");t.off(cc.Node.EventType.TOUCH_START,this.onTouch_start,this),t.off(cc.Node.EventType.TOUCH_MOVE,this.onTouch_move,this),t.off(cc.Node.EventType.TOUCH_CANCEL,this.onTouch_end,this),t.off(cc.Node.EventType.TOUCH_END,this.onTouch_end,this)},o.prototype.onTouch_start=function(){this.isTouching=!0,this.tool.angle=this.toolWorkingAngle,""!=this.audioNameKey&&s.default.playEffect(this.audioNameKey)},o.prototype.onTouch_move=function(t){if(this.isTouching){this.tool.setPosition(this.tool.getPosition().add(t.getDelta().mul(.6666666666666666)));var o=this.mask.convertToNodeSpaceAR(this.tool.convertToWorldSpaceAR(cc.Vec2.ZERO));this._addCircle(o);for(var e=this.tool.getBoundingBox(),i=0;i<this.cleanPos.length;i++)if(null!=this.cleanPos[i]&&e.contains(this.cleanPos[i])){this.purgePosCount+=1,this.cleanPos[i]=null;var n=this.purgePosCount/(this.cleanPos.length/10*8);n>1?this.refreshProgressBar(1):(this.refreshProgressBar(n),this.tool.emit("DX_TOOL_WORKING",n))}}},o.prototype.onTouch_end=function(){var t=this;if(this.isTouching)if(this.isTouching=!1,this.tool.emit("DX_TOOL_MOVE_END"),""!=this.audioNameKey&&cc.audioEngine.stopAllEffects(),this.tool.scale=this.toolWorkingscale,4==this.lv){if(this.purgePosCount>this.cleanPos.length/10*5){this.removeEvent();var o=function(){t.node.dispatchEvent(new cc.Event.EventCustom("DX_CLEAN_COMPONE",!0))};cc.tween(this.tool).to(1,{opacity:0}).call(o).start()}}else this.purgePosCount>this.cleanPos.length/10*8&&(this.removeEvent(),o=function(){t.node.dispatchEvent(new cc.Event.EventCustom("DX_CLEAN_COMPONE",!0))},cc.tween(this.tool).to(1,{opacity:0}).call(o).start())},o.prototype.initData=function(){var t=this.sizeNode.width,o=this.sizeNode.height;this.cleanPos=[],this.purgePosCount=0;for(var e=this.tool.width/4,i=0;i<t/e;i++)for(var n=0;n<o/e;n++){var s=cc.v2(-t/2+e*i,o/2-e*n);cc.Intersection.pointInPolygon(s,this.maskPolygon)&&this.cleanPos.push(s)}},o.prototype._addCircle=function(t){var o=this.mask.getComponent(cc.Mask)._graphics;o.fillColor=cc.Color.BLACK,o.circle(t.x,t.y,this.tool.width),o.fill()},o.prototype.refreshProgressBar=function(t){var o=new cc.Event.EventCustom("DX_CLEAN_PROGRESSBAR",!0);o.setUserData(t),this.node.dispatchEvent(o)},n([a(cc.Node)],o.prototype,"sizeNode",void 0),n([a(cc.Node)],o.prototype,"tool",void 0),n([a(cc.Node)],o.prototype,"rect",void 0),n([a(cc.Float)],o.prototype,"toolWorkingAngle",void 0),n([a(cc.Float)],o.prototype,"toolWorkingscale",void 0),n([a(cc.Float)],o.prototype,"delayTime",void 0),n([a(cc.String)],o.prototype,"audioNameKey",void 0),n([a(cc.Float)],o.prototype,"lv",void 0),n([a(cc.Node)],o.prototype,"mask",void 0),n([r],o)}(cc.Component);e.default=h,cc._RF.pop()},{AudioManager:void 0}],lv_501_11_task6:[function(t,o,e){"use strict";cc._RF.push(o,"2e162OHO+RGWqxIxyP1liM5","lv_501_11_task6");var i=__extends,n=__decorate;Object.defineProperty(e,"__esModule",{value:!0});var s=cc._decorator,c=s.ccclass,r=s.property,a=function(t){function o(){var o=null!==t&&t.apply(this,arguments)||this;return o.mask=null,o.tool=null,o.rect=null,o.guide=null,o.bq=null,o.purgePosCount=0,o}return i(o,t),o.prototype.onLoad=function(){var t=this;this.maskPolygon=this.mask.getComponent(cc.PolygonCollider).points,this.bq.active=!0,this.bq.scale=0,this.bq.angle=0,cc.tween(this.bq).to(.5,{scale:1}).to(.2,{angle:45}).to(.2,{angle:-45}).to(.1,{angle:0}).delay(1).call(function(){t.bq.active=!1}).start()},o.prototype.initData=function(){var t=this.node.width,o=this.node.height;this.cleanPos=[],this.purgePosCount=0;for(var e=this.tool.width/4,i=0;i<t/e;i++)for(var n=0;n<o/e;n++){var s=cc.v2(-t/2+e*i,o/2-e*n);cc.Intersection.pointInPolygon(s,this.maskPolygon)&&this.cleanPos.push(s)}},o.prototype.BtnOnClick=function(){this.node.on(cc.Node.EventType.TOUCH_START,this.onTouchStart,this),this.node.on(cc.Node.EventType.TOUCH_MOVE,this.onTouchMove,this),this.node.on(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this),this.node.on(cc.Node.EventType.TOUCH_CANCEL,this.onTouchEnd,this)},o.prototype.BtnOffClick=function(){this.node.off(cc.Node.EventType.TOUCH_START,this.onTouchStart,this),this.node.off(cc.Node.EventType.TOUCH_MOVE,this.onTouchMove,this),this.node.off(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this),this.node.off(cc.Node.EventType.TOUCH_CANCEL,this.onTouchEnd,this)},o.prototype.init=function(){this.initData(),this.BtnOnClick(),this.guide.active=!0},o.prototype.onDisable=function(){this.BtnOffClick()},o.prototype.onTouchStart=function(){this.guide.active=!1},o.prototype.onTouchMove=function(t){var o=this.node.convertToNodeSpaceAR(t.getLocation());this.tool.position=cc.v3(o.x,o.y),this._addCircle(o);for(var e=this.tool.getBoundingBox(),i=0;i<this.cleanPos.length;i++)null!=this.cleanPos[i]&&e.contains(this.cleanPos[i])&&(this.purgePosCount+=1,this.cleanPos[i]=null)},o.prototype.onTouchEnd=function(){var t=this;this.purgePosCount/(this.cleanPos.length/10*9.5)>1&&(this.bq.active=!0,this.bq.scale=0,this.bq.angle=0,cc.tween(this.bq).to(.5,{scale:1}).to(.2,{angle:45}).to(.2,{angle:-45}).to(.1,{angle:0}).start(),this.node.dispatchEvent(new cc.Event.EventCustom("bqqh",!0)),this.node.dispatchEvent(new cc.Event.EventCustom("DX_dd",!0)),this.schedule(function(){t.node.dispatchEvent(new cc.Event.EventCustom("DX_CLEAN_COMPONE",!0))},3))},o.prototype._addCircle=function(t){var o=this.mask.getComponent(cc.Mask)._graphics;o.fillColor=cc.Color.BLACK,o.circle(t.x,t.y,this.rect.width),o.fill()},o.prototype.update=function(){},n([r(cc.Node)],o.prototype,"mask",void 0),n([r(cc.Node)],o.prototype,"tool",void 0),n([r(cc.Node)],o.prototype,"rect",void 0),n([r(cc.Node)],o.prototype,"guide",void 0),n([r(cc.Node)],o.prototype,"bq",void 0),n([c],o)}(cc.Component);e.default=a,cc._RF.pop()},{}],lv_501_11:[function(t,o,e){"use strict";cc._RF.push(o,"822766lJORLdLzF0d5mkQ9Y","lv_501_11");var i=__extends,n=__decorate;Object.defineProperty(e,"__esModule",{value:!0});var s=t("ListenerType"),c=t("AudioManager"),r=t("ListenerManager"),a=cc._decorator,h=a.ccclass,l=a.property,d=function(t){function o(){var o=null!==t&&t.apply(this,arguments)||this;return o.taskArr=[],o.titleArr=["\u6b65\u9aa4\u540d\u79f0-1","\u6b65\u9aa4\u540d\u79f0-2"],o.progressBar=null,o.lbl_tile=null,o.node_xx=null,o.node_ef_stars=null,o.node_succ=null,o.node_splash=null,o.totalProgress=0,o.currProgress=0,o.bq1=null,o.bq2=null,o.bq3=null,o.node_dd=null,o.bq4=null,o.bq5=null,o}return i(o,t),o.prototype.onLoad=function(){this.progressBar=this.node.getChildByName("progressBar").getComponent(cc.ProgressBar),this.lbl_tile=this.node.getChildByName("lbl_title").getComponent(cc.Label),this.node_dd=this.node.getChildByName("dd"),this.node_xx=this.node.getChildByName("xx"),this.node_ef_stars=this.node.getChildByName("ef_stars"),this.node_succ=this.node.getChildByName("succ"),this.node_splash=this.node.getChildByName("splash"),null!=this.node_xx&&(this.node_xx.active=!1),this.node_ef_stars.active=!1,this.node_succ.active=!1,this.totalProgress=this.taskArr.length,this.currProgress=0,this.refreshTask()},o.prototype.onShowDD=function(){null!=this.node_dd&&(this.node_dd.active=!0,this.node_dd.scale=0,cc.tween(this.node_dd).to(.6,{scale:1.1}).to(.1,{scale:1}).delay(.5).to(.2,{scale:0}).start())},o.prototype.start=function(){var t=this;this.node.on("DX_CLEAN_SPLASH",this.showSplash,this),this.node.on("DX_CLEAN_COMPONE",this.onAddProgress,this),this.node.on("DX_CLEAN_PROGRESSBAR",this.onRefreshProgressBar,this),this.node.on("bqqh",this.bqcq1,this),this.node.on("bqqh1",this.bqcq2,this),this.node.on("DX_dd",this.onShowDD,this),cc.sys.isBrowser&&cc.systemEvent.on(cc.SystemEvent.EventType.KEY_UP,function(o){o.keyCode==cc.macro.KEY.space&&t.onAddProgress(null)},this),this.schedule(this.bqcq3,3)},o.prototype.onDestroy=function(){this.node.off("DX_CLEAN_SPLASH",this.showSplash,this),this.node.off("DX_CLEAN_COMPONE",this.onAddProgress,this),this.node.off("DX_CLEAN_PROGRESSBAR",this.onRefreshProgressBar,this)},o.prototype.onEnable=function(){},o.prototype.onDisable=function(){cc.audioEngine.stopAllEffects(),setTimeout(function(){c.default.playMusic(c.default.audioName.BACKGROUND)},0)},o.prototype.showSplash=function(t){null!=t&&t.stopPropagation(),cc.Tween.stopAllByTarget(this.node_splash),this.node_splash.opacity=255,cc.tween(this.node_splash).to(1,{opacity:0},{easing:"fade"}).start()},o.prototype.onAddProgress=function(t){null!=t&&t.stopPropagation(),this.currProgress+=1,this.refreshTask(),this.currProgress>=this.totalProgress?(this.onGameSucc(),this.bqcq1(),c.default.playEffect("lv501_11_10")):c.default.playEffect("lv501_11_7")},o.prototype.bqcq1=function(){this.bq1.active=!1,this.bq2.active=!0,this.unschedule(this.bqcq3)},o.prototype.bqcq2=function(){this.bq1.active=!0,this.bq2.active=!1},o.prototype.bqcq3=function(){var t=this;this.bq1.active=!1,this.bq2.active=!1,this.bq4.active=!0,this.scheduleOnce(function(){t.bq2.active||(t.bq1.active=!0,t.bq2.active=!1,t.bq4.active=!1)},.2)},o.prototype.bqcq=function(){var t=this;1==this.bq1.active&&(this.bq1.children[0].active=!1,this.bq1.children[1].active=!1,this.scheduleOnce(function(){t.bq1.children[0].active=!0,t.bq1.children[1].active=!0},.2)),1==this.bq2.active&&(this.bq2.children[0].active=!1,this.bq2.children[1].active=!1,this.scheduleOnce(function(){t.bq2.children[0].active=!0,t.bq2.children[1].active=!0},.2))},o.prototype.onRefreshProgressBar=function(t){var o=t.getUserData();null!=t&&t.stopPropagation(),this.progressBar.progress=o,this.progressBar.node.opacity=255},o.prototype.refreshTask=function(){for(var t=0;t<this.totalProgress;t++)this.taskArr[t].active=t==this.currProgress;this.lbl_tile.string=this.titleArr[this.currProgress],this.progressBar.node.opacity=0},o.prototype.onGameSucc=function(){var t=this;this.showSplash(null),this.lbl_tile.string="",this.node_succ.active=!0,this.node_ef_stars.active=!0,this.scheduleOnce(function(){t.bq3.active=!1,t.bq5.active=!0,t.scheduleOnce(function(){t.bq3.active=!0,t.bq5.active=!1},.2)},1.5),this.scheduleOnce(function(){t.node_dd.active=!0,t.scheduleOnce(function(){t.node_dd.active=!1},.5),r.default.getInstance().trigger(s.default.SUCCESS_LAYER)},3)},n([l([cc.Node])],o.prototype,"taskArr",void 0),n([l([cc.String])],o.prototype,"titleArr",void 0),n([l(cc.Node)],o.prototype,"bq1",void 0),n([l(cc.Node)],o.prototype,"bq2",void 0),n([l(cc.Node)],o.prototype,"bq3",void 0),n([l(cc.Node)],o.prototype,"bq4",void 0),n([l(cc.Node)],o.prototype,"bq5",void 0),n([h],o)}(cc.Component);e.default=d,cc._RF.pop()},{AudioManager:void 0,ListenerManager:void 0,ListenerType:void 0}]},{},["lv_501_11","lv_501_11_Action","lv_501_11_task1","lv_501_11_task2","lv_501_11_task3","lv_501_11_task6","lv_501_11_gudie_move","lv_501_11_moveForever"]);