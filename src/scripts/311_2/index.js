window.__require=function e(o,t,n){function c(r,i){if(!t[r]){if(!o[r]){var l=r.split("/");if(l=l[l.length-1],!o[l]){var p="function"==typeof __require&&__require;if(!i&&p)return p(l,!0);if(a)return a(l,!0);throw new Error("Cannot find module '"+r+"'")}r=l}var u=t[r]={exports:{}};o[r][0].call(u.exports,function(e){return c(o[r][1][e]||e)},u,u.exports,e,o,t,n)}return t[r].exports}for(var a="function"==typeof __require&&__require,r=0;r<n.length;r++)c(n[r]);return c}({"311_2_LevelCtrl":[function(e,o,t){"use strict";cc._RF.push(o,"2f67e22poJGjLrno0R8Sgi/","311_2_LevelCtrl");var n=__extends,c=__decorate;Object.defineProperty(t,"__esModule",{value:!0});var a=e("LevelCtrl_CommonResult"),r=e("AudioManager"),i=e("Platforms_QuickGame"),l=cc._decorator,p=l.ccclass,u=l.property,d=function(e){function o(){var o=null!==e&&e.apply(this,arguments)||this;return o.allContainer=null,o.allFood=null,o.pickUpLayer=null,o.pairNum=0,o.config=["\u767d\u83dc","\u571f\u8c46\u7247","\u9752\u83dc","\u91d1\u9488\u83c7","\u80a5\u725b\u5377","\u4e94\u82b1\u8089","\u8170\u82b1\u80a0","\u6492\u5c3f\u725b\u4e38","\u85d5\u7247","\u9999\u83c7","\u9c7c\u8c46\u8150","\u6cb9\u6761","\u9e4c\u9e51\u86cb","\u6728\u8033","\u9e2d\u8840","\u87f9\u68d2","\u6c34\u8c46\u8150","\u867e","\u57f9\u6839","\u8150\u7af9"],o}return n(o,e),o.prototype.onLoad=function(){var e=this;this.allContainer.children.forEach(function(o,t){o.getChildByName("title").getComponent(cc.Label).string=e.config[t]})},o.prototype.start=function(){var e=this,o=[];this.allFood.children.sort(function(){return Math.random()-.5}).map(function(e,o){return e.zIndex=o,e}).forEach(function(t){var n=Number(t.name);if(!(Number.isNaN(n)||n<=0)){var c=e.allContainer.children[n-1];if(c){var a=cc.Vec2.ZERO,i=function(){cc.tween(t).to(.1,{scale:1.1}).start(),a=t.convertToWorldSpaceAR(cc.Vec2.ZERO),o.push(t),e.allFood.getComponent(cc.Layout).enabled=!1;var n=e.pickUpLayer.convertToNodeSpaceAR(a);t.on(cc.Node.EventType.TOUCH_MOVE,l),t.on(cc.Node.EventType.TOUCH_END,p),t.on(cc.Node.EventType.TOUCH_CANCEL,p),t.parent=e.pickUpLayer,t.setPosition(n),r.default.playEffect(r.default.audioName.BUTTON)},l=function(e){t.setPosition(t.getPosition().add(e.getDelta().mul(.6666666666666666)))},p=function n(){if(t.off(cc.Node.EventType.TOUCH_MOVE,l),t.off(cc.Node.EventType.TOUCH_END,n),t.off(cc.Node.EventType.TOUCH_CANCEL,n),c.getBoundingBoxToWorld().contains(t.convertToWorldSpaceAR(cc.Vec2.ZERO))){o.splice(o.indexOf(t),1),t.off(cc.Node.EventType.TOUCH_START,i),r.default.playEffect(r.default.audioName.FINDWORD_SUCCESS),e.pairNum++;var p=e.pairNum>=e.allContainer.childrenCount;cc.tween(t).to(.1,{scale:1}).call(function(){t.parent=c,t.setPosition(0,-15),e.allFood.getComponent(cc.Layout).enabled=!0,p&&e.onAllPairComplete()}).start()}else{var u=e.pickUpLayer.convertToNodeSpaceAR(a),d=u.sub(t.getPosition()).mag()/500;cc.tween(t).to(.1,{angle:5}).to(.2,{angle:-5}).to(.1,{angle:0}).to(d,{position:cc.v3(u),scale:1}).call(function(){var n=e.allFood.convertToNodeSpaceAR(a);t.parent=e.allFood,t.setPosition(n),o.splice(o.indexOf(t),1),o.length<=0&&(e.allFood.getComponent(cc.Layout).enabled=!0)}).start()}};t.on(cc.Node.EventType.TOUCH_START,i)}}}),setTimeout(function(){i.default.getInstance().hideBanner()},700)},o.prototype.onAllPairComplete=function(){var e=this;this.scheduleOnce(function(){e.node.getComponent(a.default).onGameSucc()},1)},c([u({type:cc.Node,displayName:"\u5168\u90e8\u5bb9\u5668"})],o.prototype,"allContainer",void 0),c([u({type:cc.Node,displayName:"\u5168\u90e8\u83dc"})],o.prototype,"allFood",void 0),c([u({type:cc.Node,displayName:"\u62ff\u8d77\u5c42"})],o.prototype,"pickUpLayer",void 0),c([p],o)}(cc.Component);t.default=d,cc._RF.pop()},{AudioManager:void 0,LevelCtrl_CommonResult:void 0,Platforms_QuickGame:void 0}]},{},["311_2_LevelCtrl"]);