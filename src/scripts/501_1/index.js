window.__require=function t(o,e,i){function n(c,h){if(!e[c]){if(!o[c]){var a=c.split("/");if(a=a[a.length-1],!o[a]){var r="function"==typeof __require&&__require;if(!h&&r)return r(a,!0);if(s)return s(a,!0);throw new Error("Cannot find module '"+c+"'")}c=a}var d=e[c]={exports:{}};o[c][0].call(d.exports,function(t){return n(o[c][1][t]||t)},d,d.exports,t,o,e,i)}return e[c].exports}for(var s="function"==typeof __require&&__require,c=0;c<i.length;c++)n(i[c]);return n}({lv_501_1_kuai:[function(t,o,e){"use strict";cc._RF.push(o,"7e034PhqylHSqIrMAyqc4K+","lv_501_1_kuai");var i=__extends,n=__decorate;Object.defineProperty(e,"__esModule",{value:!0});var s=cc._decorator,c=s.ccclass,h=s.property,a=function(t){function o(){var o=null!==t&&t.apply(this,arguments)||this;return o.ismove=!1,o.type=0,o}return i(o,t),o.prototype.onLoad=function(){},o.prototype.quzhu=function(){this.ismove=!0},n([h],o.prototype,"ismove",void 0),n([h],o.prototype,"type",void 0),n([c],o)}(cc.Component);e.default=a,cc._RF.pop()},{}],lv_501_1_tool:[function(t,o,e){"use strict";cc._RF.push(o,"66924OULg9KdYYM0FNlzKD8","lv_501_1_tool");var i=__extends,n=__decorate;Object.defineProperty(e,"__esModule",{value:!0});var s=cc._decorator,c=s.ccclass,h=s.property,a=function(t){function o(){var o=null!==t&&t.apply(this,arguments)||this;return o.node_opacity=null,o.isShow=!0,o.texiaotooltype=0,o.isPlayingAni=!1,o}return i(o,t),o.prototype.start=function(){this.node_opacity.opacity=this.isShow?0:255,1==this.texiaotooltype&&(this.node_opacity.opacity=0),2==this.texiaotooltype&&(this.node_opacity.opacity=255,this.node_opacity.active=!0)},o.prototype.playAni=function(){if(this.node_opacity.getComponent(cc.Animation)){var t=this.node_opacity.getComponent(cc.Animation);this.node_opacity.getComponent(cc.Animation).play(t.getClips()[0].name,0)}},o.prototype.onEnable=function(){this.node.on("DX_TOOL_MOVE_START",this.onToolMoveStart,this),this.node.on("DX_TOOL_WORKING",this.onToolWorking,this),this.node.on("DX_TOOL_MOVE_END",this.onToolMoveEnd,this)},o.prototype.onDisable=function(){this.node.off("DX_TOOL_WORKING",this.onToolWorking,this),this.node.off("DX_TOOL_MOVE_END",this.onToolMoveEnd,this)},o.prototype.onToolMoveStart=function(){if(2==this.texiaotooltype){if(this.isPlayingAni)return;this.isPlayingAni=!0}},o.prototype.onToolWorking=function(){this.isPlayingAni||1==this.texiaotooltype&&(this.node_opacity.opacity=255)},o.prototype.onToolMoveEnd=function(){this.isPlayingAni||1==this.texiaotooltype&&(this.node_opacity.opacity=0)},n([h(cc.Node)],o.prototype,"node_opacity",void 0),n([h(cc.Boolean)],o.prototype,"isShow",void 0),n([h],o.prototype,"texiaotooltype",void 0),n([c],o)}(cc.Component);e.default=a,cc._RF.pop()},{}],lv_501_1:[function(t,o,e){"use strict";cc._RF.push(o,"66911t7scVJmoTgjUizVym7","lv_501_1");var i=__extends,n=__decorate;Object.defineProperty(e,"__esModule",{value:!0});var s=t("Game"),c=t("AudioManager"),h=cc._decorator,a=h.ccclass,r=h.property,d=function(t){function o(){var o=null!==t&&t.apply(this,arguments)||this;return o.taskArr=[],o.titleArr=["\u6b65\u9aa4\u540d\u79f0-1","\u6b65\u9aa4\u540d\u79f0-2"],o.progressBar=null,o.lbl_tile=null,o.node_dd1=null,o.node_dd=null,o.node_xx=null,o.node_ef_stars=null,o.node_succ=null,o.node_splash=null,o.totalProgress=0,o.currProgress=0,o}return i(o,t),o.prototype.onLoad=function(){this.progressBar=this.node.getChildByName("progressBar").getComponent(cc.ProgressBar),this.lbl_tile=this.node.getChildByName("lbl_title").getComponent(cc.Label),this.node_dd=this.node.getChildByName("dd"),this.node_dd1=this.node.getChildByName("dd1"),this.node_xx=this.node.getChildByName("xx"),this.node_ef_stars=this.node.getChildByName("ef_stars"),this.node_succ=this.node.getChildByName("succ"),this.node_splash=this.node.getChildByName("splash"),this.node_dd.active=!1,null!=this.node_xx&&(this.node_xx.active=!1),this.node_ef_stars.active=!1,this.node_succ.active=!1,this.totalProgress=this.taskArr.length,this.currProgress=0,this.refreshTask(),window.Level_501=this},o.prototype.start=function(){var t=this;this.node.on("DX_CLEAN_SPLASH",this.showSplash,this),this.node.on("DX_CLEAN_COMPONE",this.onAddProgress,this),this.node.on("DX_CLEAN_PROGRESSBAR",this.onRefreshProgressBar,this),this.node.on("DX_XX",this.onShowXX,this),this.node.on("DX_dd",this.onShowDD,this),cc.sys.isBrowser&&cc.systemEvent.on(cc.SystemEvent.EventType.KEY_UP,function(o){o.keyCode==cc.macro.KEY.space&&t.onAddProgress(null)},this)},o.prototype.task8onCompOne=function(){},o.prototype.onDestroy=function(){this.node.off("DX_CLEAN_SPLASH",this.showSplash,this),this.node.off("DX_CLEAN_COMPONE",this.onAddProgress,this),this.node.off("DX_CLEAN_PROGRESSBAR",this.onRefreshProgressBar,this),this.node.off("DX_XX",this.onShowXX,this),this.node.on("DX_dd",this.onShowDD,this)},o.prototype.showSplash=function(t){null!=t&&t.stopPropagation(),cc.Tween.stopAllByTarget(this.node_splash),this.node_splash.opacity=255,cc.tween(this.node_splash).to(1,{opacity:0},{easing:"fade"}).start()},o.prototype.onAddProgress=function(t){null!=t&&t.stopPropagation(),c.default.playEffect("cat"),this.currProgress+=1,this.refreshTask(),this.currProgress>=this.totalProgress&&this.onGameSucc()},o.prototype.onRefreshProgressBar=function(t){var o=t.getUserData();null!=t&&t.stopPropagation(),this.progressBar.progress=o,this.progressBar.node.opacity=255},o.prototype.refreshTask=function(){for(var t=0;t<this.totalProgress;t++)this.taskArr[t].active=t==this.currProgress;this.lbl_tile.string=this.titleArr[this.currProgress],this.progressBar.node.opacity=0},o.prototype.onGameSucc=function(){var t=this;this.showSplash(null),this.lbl_tile.string="",this.node_succ.active=!0,this.node_ef_stars.active=!0,this.scheduleOnce(function(){t.node_dd.active=!0,t.scheduleOnce(function(){t.node_dd.active=!1},.5),cc.find("Canvas/game").getComponent(s.default).answerCrrect({position:cc.Vec2.ZERO,show:!0})},3)},o.prototype.onShowXX=function(t){if(null!=this.node_xx){var o=cc.Vec2.ZERO;if(null!=t){var e=t.getUserData();o=this.node_xx.parent.convertToNodeSpaceAR(e),t.stopPropagation()}this.node_xx.active=!0,this.node_xx.scale=0,this.node_xx.setPosition(o),cc.tween(this.node_xx).to(.6,{scale:1.1}).to(.1,{scale:1}).delay(.5).to(.2,{scale:0}).start()}},o.prototype.onShowDD=function(t){null!=this.node_dd1&&(cc.Vec2.ZERO,0==t?this.node_dd1.setPosition(cc.v3(-300,-500)):this.node_dd1.setPosition(cc.v3(300,-500)),this.node_dd1.active=!0,this.node_dd1.scale=0,cc.tween(this.node_dd1).to(.6,{scale:1.1}).to(.1,{scale:1}).delay(.5).to(.2,{scale:0}).start())},o.prototype._addCircle=function(t,o,e,i){var n=i.getComponent(cc.Mask)._graphics,s=cc.color(0,0,0,255);n.circle(t.x,t.y,o),n.lineWidth=2,n.fillColor=s,n.fill()},o.prototype.rectToPoints=function(t,o,e,i){return t.x>o.x-e&&t.x<o.x+e&&t.y>o.y-i&&t.y<o.y+i},o.containsPoint=function(t,o,e){for(var i=e.length,n=0,s=0;s<i;++s){var c=e[s].x,h=e[s].y,a=e[(s+1)%i].x,r=e[(s+1)%i].y;h!=r&&(o<Math.min(h,r)||o>=Math.max(h,r)||(o-h)*(a-c)/(r-h)+c>t&&n++)}return n%2==1},n([r([cc.Node])],o.prototype,"taskArr",void 0),n([r([cc.String])],o.prototype,"titleArr",void 0),n([a],o)}(cc.Component);e.default=d,cc._RF.pop()},{AudioManager:void 0,Game:void 0}],lv_501_ping:[function(t,o,e){"use strict";cc._RF.push(o,"3e9e6GNgPZHgoaDBQBk+ODl","lv_501_ping");var i=__extends,n=__decorate;Object.defineProperty(e,"__esModule",{value:!0});var s=cc._decorator,c=s.ccclass,h=s.property,a=function(t){function o(){var o=null!==t&&t.apply(this,arguments)||this;return o.zhazhiji=null,o.sizeNode=null,o.type=0,o.isWorking=!1,o.isTouching=!1,o.isPlayingAni=!1,o.otherping=null,o.dd=null,o.iswc=!1,o.ainmtion=null,o.x=0,o.y=0,o}return i(o,t),o.prototype.start=function(){this.x=this.node.x,this.y=this.node.y,this.node.getChildByName("fensui").active=!1},o.prototype.onEnable=function(){var t=this.node;t.on(cc.Node.EventType.TOUCH_START,this.onTouch_start,this),t.on(cc.Node.EventType.TOUCH_MOVE,this.onTouch_move,this),t.on(cc.Node.EventType.TOUCH_CANCEL,this.onTouch_end,this),t.on(cc.Node.EventType.TOUCH_END,this.onTouch_end,this)},o.prototype.playanimend=function(){},o.prototype.onDisable=function(){var t=this.node;t.off(cc.Node.EventType.TOUCH_START,this.onTouch_start,this),t.off(cc.Node.EventType.TOUCH_MOVE,this.onTouch_move,this),t.off(cc.Node.EventType.TOUCH_CANCEL,this.onTouch_end,this),t.off(cc.Node.EventType.TOUCH_END,this.onTouch_end,this)},o.prototype.onTouch_start=function(){this.isPlayingAni||(this.isTouching=!0)},o.prototype.onTouch_move=function(t){if(!this.isPlayingAni&&this.isTouching&&!this.iswc){var o=t.getDelta().x/this.sizeNode.scaleX,e=t.getDelta().y/this.sizeNode.scaleY;this.node.setPosition(this.node.getPosition().add(cc.v2(o,e)));var i=this.node.convertToWorldSpaceAR(cc.Vec2.ZERO);this.isWorking||this.zhazhiji.getChildByName("rect").getBoundingBoxToWorld().contains(i)&&(0==this.type?(this.ainmtion.play("jiaobanji2"),this.zhazhiji.getChildByName("ping").active=!0,this.zhazhiji.getChildByName("ping").children[0].active=!0,this.jiaobanjianim(),this.node.getChildByName("kuai").active=!1,this.node.x=this.x,this.node.y=this.y):(this.jiaobanjianim(),this.zhazhiji.getChildByName("ping").active=!0,this.zhazhiji.getChildByName("ping").children[0].active=!0,this.ainmtion.play("jiaobanji"),this.node.getChildByName("kuai").active=!1,this.node.x=this.x,this.node.y=this.y),this.onTouch_end())}},o.prototype.onCompOne=function(){var t=this;this.scheduleOnce(function(){t.node.parent.dispatchEvent(new cc.Event.EventCustom("DX_CLEAN_COMPONE",!0))},1.5)},o.prototype.jiaobanjianim=function(){var t=this;this.isPlayingAni=!0,this.node.active=!1,cc.tween(this.zhazhiji).repeat(2,cc.tween(this.zhazhiji).to(.1,{angle:30}).to(.1,{angle:0}).to(.1,{angle:-30}).to(.1,{angle:0})).call(function(){t.isWorking=!1,t.isPlayingAni=!1,t.zhazhiji.getChildByName("ping").children[0].active=!1,t.node.getChildByName("fensui").active=!0,t.zhazhiji.getChildByName("ping").active=!1,t.node.active=!0,t.isWorking=!0,t.iswc=!0,0==t.type?(t.dd.setPosition(cc.v3(300,-500)),t.dd.active=!0,t.dd.scale=0,cc.tween(t.dd).to(.6,{scale:1.1}).to(.1,{scale:1}).delay(.5).to(.2,{scale:0}).start()):(t.dd.setPosition(cc.v3(-300,-500)),t.dd.active=!0,t.dd.scale=0,cc.tween(t.dd).to(.6,{scale:1.1}).to(.1,{scale:1}).delay(.5).to(.2,{scale:0}).start()),t.node.getChildByName("fensui").active&&t.otherping.getChildByName("fensui").active&&t.onCompOne()}).start()},o.prototype.onTouch_end=function(){this.isPlayingAni||(this.isTouching=!0)},n([h(cc.Node)],o.prototype,"zhazhiji",void 0),n([h(cc.Node)],o.prototype,"sizeNode",void 0),n([h],o.prototype,"type",void 0),n([h(cc.Node)],o.prototype,"otherping",void 0),n([h(cc.Node)],o.prototype,"dd",void 0),n([h(cc.Animation)],o.prototype,"ainmtion",void 0),n([c],o)}(cc.Component);e.default=a,cc._RF.pop()},{}],lv_501_task11tool:[function(t,o,e){"use strict";cc._RF.push(o,"04b0dk2cJ5AXIWaAyY6AIaE","lv_501_task11tool");var i=__extends,n=__decorate;Object.defineProperty(e,"__esModule",{value:!0});var s=cc._decorator,c=s.ccclass,h=s.property,a=function(t){function o(){var o=null!==t&&t.apply(this,arguments)||this;return o.sizeNode=null,o.type=0,o.isWorking=!1,o.isTouching=!1,o.isPlayingAni=!1,o.otherping=null,o.iswc=!1,o.tihe=null,o.x=0,o.y=0,o}return i(o,t),o.prototype.onEnable=function(){var t=this.node;t.on(cc.Node.EventType.TOUCH_START,this.onTouch_start,this),t.on(cc.Node.EventType.TOUCH_MOVE,this.onTouch_move,this),t.on(cc.Node.EventType.TOUCH_CANCEL,this.onTouch_end,this),t.on(cc.Node.EventType.TOUCH_END,this.onTouch_end,this),this.x=this.node.x,this.y=this.node.y},o.prototype.onTouch_start=function(){this.isPlayingAni||(this.isTouching=!0)},o.prototype.onTouch_move=function(t){if(!this.isPlayingAni&&this.isTouching&&!this.iswc){var o=t.getDelta().x/this.sizeNode.scaleX,e=t.getDelta().y/this.sizeNode.scaleY;this.node.setPosition(this.node.getPosition().add(cc.v2(o,e)));var i=this.node.convertToWorldSpaceAR(cc.Vec2.ZERO),n=this.tihe.getChildByName("dihe").getChildByName("rect3").getBoundingBoxToWorld();if(!this.isWorking)if(2==this.type){var s=this.tihe.getChildByName("dihe").getChildByName("rect1");if(n.contains(i)){this.node.active=!1,s.opacity=255;var c=new cc.Event.EventCustom("502_task11",!0);this.node.dispatchEvent(c)}}else s=this.tihe.getChildByName("dihe").getChildByName("rect2"),n.contains(i)&&(this.node.active=!1,s.opacity=255,c=new cc.Event.EventCustom("502_task11",!0),this.node.dispatchEvent(c))}},o.prototype.onCompOne=function(){},o.prototype.diheanim=function(){var t=this;this.isWorking=!0,cc.tween(this.node.children[0].getChildByName("ping").children[0]).to(2,{opacity:0}).start(),cc.tween(this.tihe.children[0]).to(2,{opacity:255}).call(function(){t.node.x=t.x,t.node.y=t.y,t.iswc=!0;var o=new cc.Event.EventCustom("502_task8",!0);t.node.dispatchEvent(o)}).start()},o.prototype.onTouch_end=function(){this.isTouching&&(this.isTouching=!1)},o.prototype.onDisable=function(){},n([h(cc.Node)],o.prototype,"sizeNode",void 0),n([h],o.prototype,"type",void 0),n([h(cc.Node)],o.prototype,"otherping",void 0),n([h(cc.Node)],o.prototype,"tihe",void 0),n([c],o)}(cc.Component);e.default=a,cc._RF.pop()},{}],lv_501_task11:[function(t,o,e){"use strict";cc._RF.push(o,"c3296VVEwFHBJGGGl1IgWta","lv_501_task11");var i=__extends,n=__decorate;Object.defineProperty(e,"__esModule",{value:!0});var s=cc._decorator,c=s.ccclass,h=s.property,a=function(t){function o(){var o=null!==t&&t.apply(this,arguments)||this;return o.tool=null,o.delayTime=0,o.isWorking=!1,o.isTouching=!1,o.isPlayingAni=!1,o.sizeNode=null,o.ping1=null,o.ping2=null,o.tiehe1=null,o.tiehe2=null,o.compCount=0,o}return i(o,t),o.prototype.onCompOne=function(){var t=this;this.compCount+=1,this.compCount>=2&&this.scheduleOnce(function(){t.node.dispatchEvent(new cc.Event.EventCustom("DX_CLEAN_COMPONE",!0))},1)},o.prototype.onEnable=function(){this.node.on("502_task11",this.onCompOne,this)},o.prototype.onDestroy=function(){this.node.off("502_task11",this.onCompOne,this)},n([h(cc.Node)],o.prototype,"tool",void 0),n([h(cc.Float)],o.prototype,"delayTime",void 0),n([h(cc.Node)],o.prototype,"sizeNode",void 0),n([h(cc.Node)],o.prototype,"ping1",void 0),n([h(cc.Node)],o.prototype,"ping2",void 0),n([h(cc.Node)],o.prototype,"tiehe1",void 0),n([h(cc.Node)],o.prototype,"tiehe2",void 0),n([h],o.prototype,"compCount",void 0),n([c],o)}(cc.Component);e.default=a,cc._RF.pop()},{}],lv_501_task1:[function(t,o,e){"use strict";cc._RF.push(o,"e930eonqRNCALzdPpvlaVck","lv_501_task1");var i=__extends,n=__decorate;Object.defineProperty(e,"__esModule",{value:!0});var s=cc._decorator,c=s.ccclass,h=s.property,a=function(t){function o(){var o=null!==t&&t.apply(this,arguments)||this;return o.tool=null,o.delayTime=0,o.isWorking=!1,o.isTouching=!1,o.isPlayingAni=!1,o.sizeNode=null,o.ping1=null,o.ping2=null,o.difk1=null,o.difk2=null,o.gongju=null,o.kuaimask=null,o.kuaileft=null,o.kuairight=null,o.kuaitype=0,o}return i(o,t),o.prototype.start=function(){this.scheduleOnce(this.addEvent,this.delayTime),this.startaim()},o.prototype.startaim=function(){var t=this;this.difk1.active=!1,this.difk2.active=!1,this.kuaimask.active=!1,cc.tween(this.ping1).to(1,{position:cc.v3(-275,this.ping1.y)}).call(function(){t.difk1.active=!0,t.difk2.active=!0,t.kuaimask.active=!0}).start(),cc.tween(this.ping2).to(1,{position:cc.v3(275,this.ping2.y)}).start()},o.prototype.addEvent=function(){var t=this.tool.getChildByName("core").getChildByName("touchNode");t.on(cc.Node.EventType.TOUCH_START,this.onTouch_start,this),t.on(cc.Node.EventType.TOUCH_MOVE,this.onTouch_move,this),t.on(cc.Node.EventType.TOUCH_CANCEL,this.onTouch_end,this),t.on(cc.Node.EventType.TOUCH_END,this.onTouch_end,this)},o.prototype.onTouch_start=function(){this.isPlayingAni||(this.isTouching=!0)},o.prototype.onTouch_move=function(t){if(!this.isPlayingAni&&this.isTouching){var o=t.getDelta().x/this.sizeNode.scaleX,e=t.getDelta().y/this.sizeNode.scaleY;this.tool.setPosition(this.tool.getPosition().add(cc.v2(o,e)));var i=this.tool.convertToWorldSpaceAR(cc.Vec2.ZERO);if(this.isWorking){if(this.isWorking){var n=this.tool.convertToWorldSpaceAR(cc.Vec2.ZERO);if(this.isWorking){if(!this.tool.getChildByName("target").children[0])return;c=this.tool.getChildByName("target").children[0],1==this.kuaitype?this.ping1.getChildByName("rect").getBoundingBoxToWorld().contains(n)&&(c.scale=.6,c.parent=this.ping1.getChildByName("kuai"),this.isWorking=!1,0==this.kuaileft.childrenCount&&0==this.kuairight.childrenCount&&this.onCompOne()):this.ping2.getChildByName("rect").getBoundingBoxToWorld().contains(n)&&(c.scale=.6,c.parent=this.ping2.getChildByName("kuai"),this.isWorking=!1,0==this.kuaileft.childrenCount&&0==this.kuairight.childrenCount&&this.onCompOne())}}}else{if(this.kuaileft.childrenCount>0){var s=this.kuaileft.children[0];this.difk2.getBoundingBoxToWorld().contains(i)&&(s.parent=this.tool.getChildByName("target"),s.setPosition(0,0),this.kuaitype=0,this.isWorking=!0)}if(this.kuairight.childrenCount>0){var c=this.kuairight.children[0];this.difk1.getBoundingBoxToWorld().contains(i)&&(c.parent=this.tool.getChildByName("target"),c.setPosition(0,0),this.kuaitype=1,this.isWorking=!0)}}}},o.prototype.onCompOne=function(){var t=this;cc.tween(this.tool).to(1,{opacity:0}).call(function(){t.node.dispatchEvent(new cc.Event.EventCustom("DX_CLEAN_COMPONE",!0))}).start()},o.prototype.chuli=function(){},o.prototype.onTouch_end=function(){this.isTouching&&(this.isTouching=!1)},n([h(cc.Node)],o.prototype,"tool",void 0),n([h(cc.Float)],o.prototype,"delayTime",void 0),n([h(cc.Node)],o.prototype,"sizeNode",void 0),n([h(cc.Node)],o.prototype,"ping1",void 0),n([h(cc.Node)],o.prototype,"ping2",void 0),n([h(cc.Node)],o.prototype,"difk1",void 0),n([h(cc.Node)],o.prototype,"difk2",void 0),n([h(cc.Node)],o.prototype,"gongju",void 0),n([h(cc.Node)],o.prototype,"kuaimask",void 0),n([h(cc.Node)],o.prototype,"kuaileft",void 0),n([h(cc.Node)],o.prototype,"kuairight",void 0),n([c],o)}(cc.Component);e.default=a,cc._RF.pop()},{}],lv_501_task2:[function(t,o,e){"use strict";cc._RF.push(o,"b7e30adiV1ANIrqjWTAg+MM","lv_501_task2");var i=__extends,n=__decorate;Object.defineProperty(e,"__esModule",{value:!0});var s=t("AudioManager"),c=cc._decorator,h=c.ccclass,a=c.property,r=function(t){function o(){var o=null!==t&&t.apply(this,arguments)||this;return o.sizeNode=null,o.tool=null,o.toolWorkingAngle=0,o.delayTime=0,o.audioNameKey="",o.isjkwc=!1,o.coverGraphics=null,o.purgePosCount=0,o.texiaotool=!1,o.texiaowc=!1,o.isTouching=!1,o}return i(o,t),o.prototype.onLoad=function(){this.coverGraphics=this.node.getChildByName("mask").getComponent(cc.Mask)._graphics,this.maskPolygon=this.coverGraphics.node.getComponent(cc.PolygonCollider).points,this.coverGraphics.fillColor=cc.color(0,0,0,255)},o.prototype.start=function(){var t=this;this.scheduleOnce(this.addEvent,this.delayTime),this.scheduleOnce(function(){t.refreshProgressBar(0)},0),this.initData()},o.prototype.addEvent=function(){var t=this.tool.getChildByName("core").getChildByName("touchNode");t.on(cc.Node.EventType.TOUCH_START,this.onTouch_start,this),t.on(cc.Node.EventType.TOUCH_MOVE,this.onTouch_move,this),t.on(cc.Node.EventType.TOUCH_CANCEL,this.onTouch_end,this),t.on(cc.Node.EventType.TOUCH_END,this.onTouch_end,this)},o.prototype.removeEvent=function(){var t=this.tool.getChildByName("core").getChildByName("touchNode");t.off(cc.Node.EventType.TOUCH_START,this.onTouch_start,this),t.off(cc.Node.EventType.TOUCH_MOVE,this.onTouch_move,this),t.off(cc.Node.EventType.TOUCH_CANCEL,this.onTouch_end,this),t.off(cc.Node.EventType.TOUCH_END,this.onTouch_end,this)},o.prototype.onTouch_start=function(){this.isTouching=!0,this.tool.angle=this.toolWorkingAngle,""!=this.audioNameKey&&s.default.playEffect(s.default.audioName[this.audioNameKey],!0),this.texiaotool},o.prototype.onTouch_move=function(t){var o=this;if(this.isTouching){var e=t.getDelta().x/this.sizeNode.scaleX,i=t.getDelta().y/this.sizeNode.scaleY;this.tool.setPosition(this.tool.getPosition().add(cc.v2(e,i))),this.tool.emit("DX_TOOL_MOVING");var n=this.coverGraphics.node.convertToNodeSpaceAR(this.tool.convertToWorldSpaceAR(cc.Vec2.ZERO));this._addCircle(n,this.tool.height);for(var s=this.tool.getBoundingBox(),c=0;c<this.cleanPos.length;c++)if(null!=this.cleanPos[c]&&s.contains(this.cleanPos[c])){if(this.isjkwc){this.refreshProgressBar(1),this.node.getChildByName("mask").children[0].active=!0,this.removeEvent(),cc.tween(this.tool).to(1,{opacity:0}).call(function(){o.node.dispatchEvent(new cc.Event.EventCustom("DX_CLEAN_COMPONE",!0))}).start();break}this.purgePosCount+=1,this.cleanPos[c]=null;var h=this.purgePosCount/(this.cleanPos.length/10*7);h>1?this.refreshProgressBar(1):(this.refreshProgressBar(h),this.tool.emit("DX_TOOL_WORKING",h))}}},o.prototype._addCircle=function(t,o){this.coverGraphics.circle(t.x,t.y,o),this.coverGraphics.fill()},o.prototype.onTouch_end=function(){var t=this;this.isTouching&&(this.isTouching=!1,this.tool.emit("DX_TOOL_MOVE_END"),this.tool.setPosition(0,this.tool.getPosition().y),""!=this.audioNameKey&&cc.audioEngine.stopAllEffects(),this.purgePosCount>this.cleanPos.length/10*7)&&(this.removeEvent(),cc.tween(this.tool).to(1,{opacity:0}).call(function(){t.node.dispatchEvent(new cc.Event.EventCustom("DX_CLEAN_COMPONE",!0))}).start())},o.prototype.initData=function(){var t=this,o=this.sizeNode.width,e=this.sizeNode.height;this.cleanPos=[],this.purgePosCount=0;for(var i=this.tool.width/4,n=0;n<o/i;n++)for(var s=0;s<e/i;s++){var c=cc.v2(-o/2+i*n,e/2-i*s);cc.Intersection.pointInPolygon(c,this.maskPolygon)&&this.cleanPos.push(c)}if(this.texiaotool){var h=this.tool.getChildByName("opacity");cc.tween(h).delay(1).to(.5,{position:cc.v3(0,-450),opacity:0}).call(function(){t.isTouching=!0,t.texiaowc=!0}).start()}},o.prototype.refreshProgressBar=function(t){var o=new cc.Event.EventCustom("DX_CLEAN_PROGRESSBAR",!0);o.setUserData(t),this.node.dispatchEvent(o)},n([a(cc.Node)],o.prototype,"sizeNode",void 0),n([a(cc.Node)],o.prototype,"tool",void 0),n([a(cc.Float)],o.prototype,"toolWorkingAngle",void 0),n([a(cc.Float)],o.prototype,"delayTime",void 0),n([a(cc.String)],o.prototype,"audioNameKey",void 0),n([a],o.prototype,"isjkwc",void 0),n([a],o.prototype,"texiaotool",void 0),n([a],o.prototype,"texiaowc",void 0),n([h],o)}(cc.Component);e.default=r,cc._RF.pop()},{AudioManager:void 0}],lv_501_task8tool:[function(t,o,e){"use strict";cc._RF.push(o,"dc1e9+hSERKw5IRsjeMLcCH","lv_501_task8tool");var i=__extends,n=__decorate;Object.defineProperty(e,"__esModule",{value:!0});var s=cc._decorator,c=s.ccclass,h=s.property,a=function(t){function o(){var o=null!==t&&t.apply(this,arguments)||this;return o.anim=null,o.sizeNode=null,o.type=0,o.isWorking=!1,o.isTouching=!1,o.isPlayingAni=!1,o.otherping=null,o.diherect=null,o.iswc=!1,o.tihe=null,o.x=0,o.y=0,o}return i(o,t),o.prototype.onEnable=function(){var t=this.node;t.on(cc.Node.EventType.TOUCH_START,this.onTouch_start,this),t.on(cc.Node.EventType.TOUCH_MOVE,this.onTouch_move,this),t.on(cc.Node.EventType.TOUCH_CANCEL,this.onTouch_end,this),t.on(cc.Node.EventType.TOUCH_END,this.onTouch_end,this),this.x=this.node.x,this.y=this.node.y},o.prototype.onTouch_start=function(){this.isPlayingAni||(this.isTouching=!0)},o.prototype.onTouch_move=function(t){if(!this.isPlayingAni&&this.isTouching&&!this.iswc){var o=t.getDelta().x/this.sizeNode.scaleX,e=t.getDelta().y/this.sizeNode.scaleY;this.node.setPosition(this.node.getPosition().add(cc.v2(o,e)))}},o.prototype.onCompOne=function(){},o.prototype.diheanim=function(){var t=this;this.isWorking=!0,0==this.type?(this.node.x=-40,this.node.y=-150):(this.node.x=230,this.node.y=-150),cc.tween(this.node.children[0].getChildByName("ping").children[0]).to(2,{opacity:0}).start(),cc.tween(this.tihe.children[0]).to(2,{opacity:255}).call(function(){t.node.x=t.x,t.node.y=t.y,t.iswc=!0;var o=new cc.Event.EventCustom("502_task8",!0);t.node.dispatchEvent(o)}).start()},o.prototype.onTouch_end=function(){if(this.isTouching){this.isTouching=!1;var t=this.node.getChildByName("tool").getChildByName("rect").convertToWorldSpaceAR(cc.Vec2.ZERO);this.isWorking||this.diherect.getBoundingBoxToWorld().contains(t)&&(this.diheanim(),this.playAni())}},o.prototype.onDisable=function(){},o.prototype.playAni=function(){this.anim.play(this.anim.getClips()[0].name,0)},o.prototype.stopAni=function(){this.anim.play(this.anim.getClips()[1].name,0)},o.prototype.ani_comp=function(){var t=this.anim.getAnimationState(this.anim.getClips()[0].name),o=t.time,e=t.duration;t.wrapMode==cc.WrapMode.Loop?o<=e&&this.node.dispatchEvent(new cc.Event.EventCustom("TASK_MOVETOOL_COMPONE",!0)):this.node.dispatchEvent(new cc.Event.EventCustom("TASK_MOVETOOL_COMPONE",!0))},n([h(cc.Animation)],o.prototype,"anim",void 0),n([h(cc.Node)],o.prototype,"sizeNode",void 0),n([h],o.prototype,"type",void 0),n([h(cc.Node)],o.prototype,"otherping",void 0),n([h(cc.Node)],o.prototype,"diherect",void 0),n([h(cc.Node)],o.prototype,"tihe",void 0),n([c],o)}(cc.Component);e.default=a,cc._RF.pop()},{}],lv_501_task8:[function(t,o,e){"use strict";cc._RF.push(o,"4b755zlBRZM/IAiM6BR9VjR","lv_501_task8");var i=__extends,n=__decorate;Object.defineProperty(e,"__esModule",{value:!0});var s=cc._decorator,c=s.ccclass,h=s.property,a=function(t){function o(){var o=null!==t&&t.apply(this,arguments)||this;return o.tool=null,o.delayTime=0,o.isWorking=!1,o.isTouching=!1,o.isPlayingAni=!1,o.sizeNode=null,o.ping1=null,o.ping2=null,o.tiehe1=null,o.tiehe2=null,o.compCount=0,o}return i(o,t),o.prototype.onCompOne=function(){var t=this;this.compCount+=1,this.compCount>=2&&this.scheduleOnce(function(){t.node&&t.node.dispatchEvent(new cc.Event.EventCustom("DX_CLEAN_COMPONE",!0))},1)},o.prototype.onEnable=function(){this.node.on("502_task8",this.onCompOne,this)},o.prototype.onDestroy=function(){this.node.off("502_task8",this.onCompOne,this)},n([h(cc.Node)],o.prototype,"tool",void 0),n([h(cc.Float)],o.prototype,"delayTime",void 0),n([h(cc.Node)],o.prototype,"sizeNode",void 0),n([h(cc.Node)],o.prototype,"ping1",void 0),n([h(cc.Node)],o.prototype,"ping2",void 0),n([h(cc.Node)],o.prototype,"tiehe1",void 0),n([h(cc.Node)],o.prototype,"tiehe2",void 0),n([h],o.prototype,"compCount",void 0),n([c],o)}(cc.Component);e.default=a,cc._RF.pop()},{}],lv_501_task9:[function(t,o,e){"use strict";cc._RF.push(o,"98b49Ut9TFIxa13O7xmtvFw","lv_501_task9");var i=__extends,n=__decorate;Object.defineProperty(e,"__esModule",{value:!0});var s=cc._decorator,c=s.ccclass,h=s.property,a=function(t){function o(){var o=null!==t&&t.apply(this,arguments)||this;return o.sizeNode=null,o.tool=null,o.node_rect=null,o.delayTime=0,o.isCanCtrl=!0,o.coverGraphics=null,o.purgePosCount=0,o.mask1=null,o.mask2=null,o.isTouching=!1,o}return i(o,t),o.prototype.onLoad=function(){},o.prototype.start=function(){var t=this;this.scheduleOnce(this.addEvent,this.delayTime),this.scheduleOnce(function(){t.refreshProgressBar(0)},0),this.initData()},o.prototype.onEnable=function(){},o.prototype._addCircle=function(t,o){this.coverGraphics.circle(t.x,t.y,o),this.coverGraphics.fill()},o.prototype.onDisable=function(){this.removeEvent()},o.prototype.addEvent=function(){var t=this.tool.getChildByName("core").getChildByName("touchNode");t.on(cc.Node.EventType.TOUCH_START,this.onTouch_start,this),t.on(cc.Node.EventType.TOUCH_MOVE,this.onTouch_move,this),t.on(cc.Node.EventType.TOUCH_CANCEL,this.onTouch_end,this),t.on(cc.Node.EventType.TOUCH_END,this.onTouch_end,this)},o.prototype.removeEvent=function(){var t=this.tool.getChildByName("core").getChildByName("touchNode");t.off(cc.Node.EventType.TOUCH_START,this.onTouch_start,this),t.off(cc.Node.EventType.TOUCH_MOVE,this.onTouch_move,this),t.off(cc.Node.EventType.TOUCH_CANCEL,this.onTouch_end,this),t.off(cc.Node.EventType.TOUCH_END,this.onTouch_end,this)},o.prototype.onTouch_start=function(){this.isCanCtrl&&(this.isTouching=!0)},o.prototype.onTouch_move=function(t){if(this.isTouching){var o=t.getDelta().x/this.sizeNode.scaleX,e=t.getDelta().y/this.sizeNode.scaleY;this.tool.setPosition(this.tool.getPosition().add(cc.v2(o,e)))}},o.prototype.onTouch_end=function(){var t=this;if(this.isTouching){this.isTouching=!1;var o=this.node_rect.getBoundingBoxToWorld(),e=this.tool.convertToWorldSpaceAR(cc.Vec2.ZERO);o.contains(e)&&(this.isCanCtrl=!1,cc.tween(this.tool).to(.5,{x:-147,y:120}).to(.5,{y:110}).call(function(){t.mask1.children[0].y=-108}).to(.5,{x:-147,y:13}).to(.5,{y:3}).call(function(){t.mask1.children[0].y=-208}).to(.5,{x:-147,y:-86}).to(.5,{y:-96}).call(function(){t.mask1.children[0].y=-308}).call(function(){cc.tween(t.tool).to(.5,{x:140,y:120}).to(.5,{y:110}).call(function(){t.mask2.children[0].y=-108}).to(.5,{x:140,y:13}).to(.5,{y:3}).call(function(){t.mask2.children[0].y=-208}).to(.5,{x:140,y:-86}).call(function(){t.mask2.children[0].y=-308}).to(.5,{y:-96}).call(function(){cc.tween(t.tool).to(.5,{x:-20,y:250}).call(function(){cc.tween(t.tool).to(1,{opacity:0}).call(function(){t.node.dispatchEvent(new cc.Event.EventCustom("DX_CLEAN_COMPONE",!0))}).start()}).start()}).start()}).call(function(){}).start())}},o.prototype.refreshProgressBar=function(t){var o=new cc.Event.EventCustom("DX_CLEAN_PROGRESSBAR",!0);o.setUserData(t),this.node.dispatchEvent(o)},o.prototype.initData=function(){},n([h(cc.Node)],o.prototype,"sizeNode",void 0),n([h(cc.Node)],o.prototype,"tool",void 0),n([h(cc.Node)],o.prototype,"node_rect",void 0),n([h(cc.Float)],o.prototype,"delayTime",void 0),n([h(cc.Node)],o.prototype,"mask1",void 0),n([h(cc.Node)],o.prototype,"mask2",void 0),n([c],o)}(cc.Component);e.default=a,cc._RF.pop()},{}]},{},["lv_501_1","lv_501_task2","lv_501_1_kuai","lv_501_1_tool","lv_501_ping","lv_501_task1","lv_501_task11","lv_501_task11tool","lv_501_task8","lv_501_task8tool","lv_501_task9"]);